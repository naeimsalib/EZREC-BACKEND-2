# EZREC System Logs - Fresh Start
# This file contains system check output and deployment logs
# Generated automatically by the deployment script

# =============================================================================
# SYSTEM CHECK OUTPUT
# =============================================================================
# Logs will be populated here when deployment script runs[0;32m[16:40:43] Starting EZREC deployment as user: root[0m
[0;34m[16:40:43] STEP: 1. Applying comprehensive system fixes[0m
[0;32m[16:40:43] ğŸ”§ Fixing port conflicts with comprehensive cleanup...[0m
[0;32m[16:40:43] ğŸ›‘ Stopping all EZREC services...[0m
[0;32m[16:40:44] ğŸ§¹ Comprehensive port cleanup...[0m
[0;32m[16:40:44] ğŸ§¹ Killing processes by name...[0m
[0;32m[16:40:47] âœ… Port 8000 is now free[0m
[0;32m[16:40:47] âœ… Port 9000 is now free[0m
[0;32m[16:40:47] âœ… Comprehensive port conflict resolution completed[0m
[0;32m[16:40:47] ğŸ”§ Installing psutil in all virtual environments...[0m
[0;32m[16:40:47] ğŸ“¦ Installing psutil in backend virtual environment...[0m
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: psutil in /home/michomanoly14892/.local/lib/python3.11/site-packages (5.9.5)
WARNING: Error parsing dependencies of send2trash: Expected matching RIGHT_PARENTHESIS for LEFT_PARENTHESIS, after version specifier
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
[0;32m[16:40:49] âœ… psutil installed successfully in backend venv[0m
[0;32m[16:40:49] ğŸ“¦ Installing psutil in API virtual environment...[0m
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: psutil in /home/michomanoly14892/.local/lib/python3.11/site-packages (5.9.5)
WARNING: Error parsing dependencies of send2trash: Expected matching RIGHT_PARENTHESIS for LEFT_PARENTHESIS, after version specifier
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
[0;32m[16:40:50] âœ… psutil installed successfully in API venv[0m
[0;32m[16:40:50] ğŸ§ª Testing psutil imports...[0m
âœ… psutil imported successfully in backend
[0;32m[16:40:50] âœ… psutil import test passed in backend[0m
âœ… psutil imported successfully in API
[0;32m[16:40:50] âœ… psutil import test passed in API[0m
[0;32m[16:40:50] âœ… psutil installed and tested successfully in all environments[0m
[0;32m[16:40:50] ğŸ”§ Ensuring all required files and directories exist...[0m
[0;32m[16:40:50] ğŸ“ Creating logs directory...[0m
[0;32m[16:40:50] âœ… Logs directory created with proper permissions[0m
[0;32m[16:40:50] ğŸ“„ Creating system_status.log file...[0m
[0;32m[16:40:50] âœ… system_status.log file created with proper permissions[0m
[0;32m[16:40:50] ğŸ“„ Copying system_status.py to deployment directory...[0m
[0;32m[16:40:50] âœ… system_status.py copied with proper permissions[0m
[0;32m[16:40:50] âœ… All required files and directories created with proper permissions[0m
[0;32m[16:40:50] ğŸ”§ Ensuring all services are properly enabled...[0m
[0;32m[16:40:50] ğŸ”§ Enabling dual_recorder.service for auto-start...[0m
[0;32m[16:40:51] âœ… dual_recorder.service enabled successfully[0m
[0;32m[16:40:51] ğŸ”§ Enabling video_worker.service for auto-start...[0m
[0;32m[16:40:51] âœ… video_worker.service enabled successfully[0m
[0;32m[16:40:51] ğŸ”§ Enabling ezrec-api.service for auto-start...[0m
[0;32m[16:40:51] âœ… ezrec-api.service enabled successfully[0m
[0;32m[16:40:51] ğŸ”§ Enabling system_status.service for auto-start...[0m
[0;32m[16:40:51] âœ… system_status.service enabled successfully[0m
[0;32m[16:40:51] ğŸ”§ Enabling system_status.timer for auto-start...[0m
[0;32m[16:40:51] âœ… system_status.timer enabled successfully[0m
[0;32m[16:40:51] ğŸ” Verifying services are enabled...[0m
[0;32m[16:40:51] âœ… dual_recorder.service is enabled[0m
[0;32m[16:40:51] âœ… video_worker.service is enabled[0m
[0;32m[16:40:51] âœ… ezrec-api.service is enabled[0m
[0;32m[16:40:52] âœ… system_status.service is enabled[0m
[0;32m[16:40:52] âœ… All services properly enabled for auto-start[0m
[0;34m[16:40:52] STEP: 2. Starting all services safely[0m
[0;32m[16:40:52] ğŸ”§ Starting all services safely with port conflict prevention...[0m
[0;32m[16:40:52] ğŸ”§ Fixing port conflicts with comprehensive cleanup...[0m
[0;32m[16:40:52] ğŸ›‘ Stopping all EZREC services...[0m
[0;32m[16:40:52] ğŸ§¹ Comprehensive port cleanup...[0m
[0;32m[16:40:52] ğŸ” Found processes on port 8000, killing them...[0m
[0;32m[16:40:54] ğŸ§¹ Killing processes by name...[0m
[0;32m[16:40:57] âœ… Port 8000 is now free[0m
[0;32m[16:40:57] âœ… Port 9000 is now free[0m
[0;32m[16:40:57] âœ… Comprehensive port conflict resolution completed[0m
[0;32m[16:40:57] ğŸš€ Starting ezrec-api.service...[0m
[0;32m[16:40:57] ğŸ”§ Special handling for API service...[0m
[0;32m[16:40:57] âœ… ezrec-api.service started successfully[0m
[0;32m[16:40:57] â³ Waiting for API service to be ready...[0m
[0;32m[16:41:07] âœ… API service is responding[0m
[0;32m[16:41:10] ğŸš€ Starting dual_recorder.service...[0m
[0;32m[16:41:10] âœ… dual_recorder.service started successfully[0m
[0;32m[16:41:10] â³ Waiting longer for dual_recorder to fully initialize...[0m
[0;32m[16:41:20] ğŸš€ Starting video_worker.service...[0m
[0;32m[16:41:20] âœ… video_worker.service started successfully[0m
[0;32m[16:41:20] â³ Waiting longer for video_worker to fully initialize...[0m
[0;32m[16:41:30] ğŸš€ Starting system_status.service...[0m
[0;32m[16:41:30] ğŸ”§ Special handling for system_status service...[0m
[0;32m[16:41:30] âœ… system_status.log file exists and is writable[0m
[0;32m[16:41:33] âœ… system_status.service started successfully[0m
[0;32m[16:41:36] ğŸš€ Starting system_status.timer...[0m
[0;32m[16:41:36] âœ… system_status.timer started successfully[0m
[0;32m[16:41:36] âœ… All services started safely[0m
[0;32m[16:41:36] â³ Waiting for all services to fully initialize...[0m
[0;34m[16:41:51] STEP: 3. Verifying system completely[0m
[0;32m[16:41:51] ğŸ” Performing comprehensive system verification...[0m
[0;32m[16:41:51] ğŸ§ª Checking all services are running...[0m
[0;32m[16:41:51] âœ… dual_recorder.service is running[0m
[0;32m[16:41:51] â³ video_worker.service not ready yet, retrying in 5s... (attempt 1/3)[0m
[0;32m[16:41:56] â³ video_worker.service not ready yet, retrying in 5s... (attempt 2/3)[0m
[0;32m[16:42:01] âœ… video_worker.service is running[0m
[0;32m[16:42:01] â³ ezrec-api.service not ready yet, retrying in 5s... (attempt 1/3)[0m
[0;32m[16:42:06] â³ ezrec-api.service not ready yet, retrying in 5s... (attempt 2/3)[0m
[0;31m[16:42:11] ERROR: âŒ ezrec-api.service is not running after 3 attempts[0m
[0;32m[16:42:11] ğŸ“‹ Service status:[0m
â— ezrec-api.service - EZREC FastAPI Backend
     Loaded: loaded (/etc/systemd/system/ezrec-api.service; enabled; preset: enabled)
     Active: activating (auto-restart) (Result: exit-code) since Sun 2025-09-14 16:42:09 EDT; 1s ago
    Process: 561291 ExecStart=/opt/ezrec-backend/api/venv/bin/uvicorn api_server:app --host 0.0.0.0 --port 8000 (code=exited, status=1/FAILURE)
   Main PID: 561291 (code=exited, status=1/FAILURE)
        CPU: 1.501s

Sep 14 16:42:09 raspberrypi systemd[1]: ezrec-api.service: Consumed 1.501s CPU time.
