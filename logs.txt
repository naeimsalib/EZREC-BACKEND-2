# EZREC System Logs - Fresh Start
# This file contains system check output and deployment logs
# Generated automatically by the deployment script

# =============================================================================
# SYSTEM CHECK OUTPUT
# =============================================================================
michomanoly14892@raspberrypi:~/EZREC-BACKEND-2 $ cat logs.txt 
# EZREC System Logs - Fresh Start
# This file contains system check output and deployment logs
# Generated automatically by the deployment script

# =============================================================================
# SYSTEM CHECK OUTPUT
# =============================================================================
michomanoly14892@raspberrypi:~/EZREC-BACKEND-2 $ cat logs.txt 
=== EZREC SYSTEM COMPREHENSIVE TEST - Mon  1 Sep 15:11:58 EDT 2025 ===

=== 1. SYSTEM STATUS OVERVIEW ===
System uptime:
 15:11:58 up 4 days, 20:23,  2 users,  load average: 0.10, 0.19, 0.18

Disk usage:
Filesystem      Size  Used Avail Use% Mounted on
udev            3.9G     0  3.9G   0% /dev
tmpfs           1.6G  157M  1.5G  10% /run
/dev/mmcblk0p2  117G  8.7G  103G   8% /
tmpfs           4.0G   20M  4.0G   1% /dev/shm
tmpfs           5.0M   48K  5.0M   1% /run/lock
/dev/mmcblk0p1  510M   78M  433M  16% /boot/firmware
tmpfs           807M  192K  807M   1% /run/user/1000

Memory usage:
               total        used        free      shared  buff/cache   available
Mem:           7.9Gi       1.2Gi       4.5Gi       229Mi       2.5Gi       6.7Gi
Swap:          511Mi          0B       511Mi

=== 2. SERVICE STATUS CHECK ===
All EZREC services status:
â—‹ ezrec-api.service - EZREC FastAPI Backend
     Loaded: loaded (/etc/systemd/system/ezrec-api.service; disabled; preset: enabled)
     Active: inactive (dead)

Sep 01 01:35:43 raspberrypi uvicorn[838102]: INFO:     Waiting for application startup.
Sep 01 01:35:43 raspberrypi uvicorn[838102]: INFO:     Application startup complete.
Sep 01 01:35:43 raspberrypi uvicorn[838102]: ERROR:    [Errno 98] error while attempting to bind on address ('0.0.0.0', 8000): address already in use
Sep 01 01:35:43 raspberrypi uvicorn[838102]: INFO:     Waiting for application shutdown.
Sep 01 01:35:43 raspberrypi uvicorn[838102]: INFO:     Application shutdown complete.
Sep 01 01:35:43 raspberrypi systemd[1]: ezrec-api.service: Main process exited, code=exited, status=1/FAILURE
Sep 01 01:35:43 raspberrypi systemd[1]: ezrec-api.service: Failed with result 'exit-code'.
Sep 01 01:35:43 raspberrypi systemd[1]: ezrec-api.service: Consumed 1.539s CPU time.
Sep 01 01:35:43 raspberrypi systemd[1]: Stopped ezrec-api.service - EZREC FastAPI Backend.
Sep 01 01:35:43 raspberrypi systemd[1]: ezrec-api.service: Consumed 1.539s CPU time.

---
â—‹ dual_recorder.service - EZREC Dual Camera Recorder Service
     Loaded: loaded (/etc/systemd/system/dual_recorder.service; disabled; preset: enabled)
     Active: inactive (dead)

Aug 31 16:12:49 raspberrypi python3[619976]: WARNING: âš ï¸ Error during camera cleanup: maximum recursion depth exceeded while calling a Python object
Aug 31 16:12:49 raspberrypi python3[619976]: 2025-08-31 16:12:49,696 - INFO - âœ… Force-released /dev/video* devices
Aug 31 16:12:49 raspberrypi python3[619976]: 2025-08-31 16:12:49,704 - INFO - ğŸ›‘ Performing graceful shutdown...
Aug 31 16:12:49 raspberrypi python3[619976]: 2025-08-31 16:12:49,704 - INFO - âœ… Shutdown completed successfully
Aug 31 16:12:49 raspberrypi python3[619976]: ğŸ” Debug: SUPABASE_SERVICE_ROLE_KEY loaded: YES
Aug 31 16:12:49 raspberrypi python3[619976]: ğŸ” Debug: Key starts with: eyJhbGciOiJIUzI1NiIs...
Aug 31 16:12:49 raspberrypi python3[619976]: ğŸ” Debug: Key length: 219
Aug 31 16:12:49 raspberrypi systemd[1]: dual_recorder.service: Deactivated successfully.
Aug 31 16:12:49 raspberrypi systemd[1]: Stopped dual_recorder.service - EZREC Dual Camera Recorder Service.
Aug 31 16:12:49 raspberrypi systemd[1]: dual_recorder.service: Consumed 19.079s CPU time.

---
â—‹ video_worker.service - EZREC Video Processing Worker Service
     Loaded: loaded (/etc/systemd/system/video_worker.service; disabled; preset: enabled)
     Active: inactive (dead)

Aug 31 16:11:20 raspberrypi python3[619548]: 2025-08-31 16:11:20,482 [INFO] ğŸ“Š Disk usage: 8.1% used, 101.5 GB free
Aug 31 16:11:35 raspberrypi python3[619548]: 2025-08-31 16:11:35,511 [INFO] ğŸ“Š Disk usage: 8.1% used, 101.5 GB free
Aug 31 16:11:50 raspberrypi python3[619548]: 2025-08-31 16:11:50,542 [INFO] ğŸ“Š Disk usage: 8.1% used, 101.5 GB free
Aug 31 16:12:05 raspberrypi python3[619548]: 2025-08-31 16:12:05,588 [INFO] ğŸ“Š Disk usage: 8.1% used, 101.5 GB free
Aug 31 16:12:20 raspberrypi python3[619548]: 2025-08-31 16:12:20,618 [INFO] ğŸ“Š Disk usage: 8.1% used, 101.5 GB free
Aug 31 16:12:35 raspberrypi python3[619548]: 2025-08-31 16:12:35,660 [INFO] ğŸ“Š Disk usage: 8.1% used, 101.5 GB free
Aug 31 16:12:49 raspberrypi systemd[1]: Stopping video_worker.service - EZREC Video Processing Worker Service...
Aug 31 16:12:49 raspberrypi systemd[1]: video_worker.service: Deactivated successfully.
Aug 31 16:12:49 raspberrypi systemd[1]: Stopped video_worker.service - EZREC Video Processing Worker Service.
Aug 31 16:12:49 raspberrypi systemd[1]: video_worker.service: Consumed 2.335s CPU time.

---
Ã— system_status.service - EZREC System Status Monitor
     Loaded: loaded (/etc/systemd/system/system_status.service; disabled; preset: enabled)
     Active: failed (Result: exit-code) since Mon 2025-09-01 15:11:16 EDT; 42s ago
   Duration: 14min 35.103s
TriggeredBy: â— system_status.timer
    Process: 863723 ExecStart=/opt/ezrec-backend/backend/venv/bin/python3 /opt/ezrec-backend/backend/system_status.py (code=exited, status=1/FAILURE)
   Main PID: 863723 (code=exited, status=1/FAILURE)
        CPU: 57ms

Sep 01 15:11:16 raspberrypi systemd[1]: Starting system_status.service - EZREC System Status Monitor...
Sep 01 15:11:16 raspberrypi python3[863723]: Traceback (most recent call last):
Sep 01 15:11:16 raspberrypi python3[863723]:   File "/opt/ezrec-backend/backend/system_status.py", line 13, in <module>
Sep 01 15:11:16 raspberrypi python3[863723]:     import psutil
Sep 01 15:11:16 raspberrypi python3[863723]: ModuleNotFoundError: No module named 'psutil'
Sep 01 15:11:16 raspberrypi systemd[1]: system_status.service: Main process exited, code=exited, status=1/FAILURE
Sep 01 15:11:16 raspberrypi systemd[1]: system_status.service: Failed with result 'exit-code'.
Sep 01 15:11:16 raspberrypi systemd[1]: Failed to start system_status.service - EZREC System Status Monitor.

---
â— cloudflared.service - Cloudflare Tunnel
     Loaded: loaded (/etc/systemd/system/cloudflared.service; enabled; preset: enabled)
     Active: active (running) since Mon 2025-09-01 01:26:33 EDT; 13h ago
   Main PID: 837124 (cloudflared)
      Tasks: 11 (limit: 9572)
        CPU: 1min 7.555s
     CGroup: /system.slice/cloudflared.service
             â””â”€837124 /usr/local/bin/cloudflared --config /home/michomanoly14892/.cloudflared/config.yml tunnel run ezrec-tunnel

Sep 01 01:26:33 raspberrypi cloudflared[837124]: 2025-09-01T05:26:33Z INF Starting metrics server on 127.0.0.1:20241/metrics
Sep 01 01:26:33 raspberrypi cloudflared[837124]: 2025-09-01T05:26:33Z INF Tunnel connection curve preferences: [X25519MLKEM768 CurveP256] connIndex=0 event=0 ip=198.41.192.27
Sep 01 01:26:33 raspberrypi cloudflared[837124]: 2025/09/01 01:26:33 failed to sufficiently increase send buffer size (was: 208 kiB, wanted: 7168 kiB, got: 416 kiB). See https://github.com/quic-go/quic-go/wiki/UDP-Buffer-Sizes for details.
Sep 01 01:26:34 raspberrypi cloudflared[837124]: 2025-09-01T05:26:34Z INF Registered tunnel connection connIndex=0 connection=179ddb92-90a2-48b4-9b5d-3755c161946b event=0 ip=198.41.192.27 location=mia02 protocol=quic
Sep 01 01:26:34 raspberrypi cloudflared[837124]: 2025-09-01T05:26:34Z INF Tunnel connection curve preferences: [X25519MLKEM768 CurveP256] connIndex=1 event=0 ip=198.41.200.43
Sep 01 01:26:34 raspberrypi cloudflared[837124]: 2025-09-01T05:26:34Z INF Registered tunnel connection connIndex=1 connection=6ece253a-cc77-46c8-a5fb-6dce2e246dd4 event=0 ip=198.41.200.43 location=mia09 protocol=quic
Sep 01 01:26:35 raspberrypi cloudflared[837124]: 2025-09-01T05:26:35Z INF Tunnel connection curve preferences: [X25519MLKEM768 CurveP256] connIndex=2 event=0 ip=198.41.200.233
Sep 01 01:26:35 raspberrypi cloudflared[837124]: 2025-09-01T05:26:35Z INF Registered tunnel connection connIndex=2 connection=11ea904b-1ccb-4f35-bb28-c76fc38e0547 event=0 ip=198.41.200.233 location=mia09 protocol=quic
Sep 01 01:26:36 raspberrypi cloudflared[837124]: 2025-09-01T05:26:36Z INF Tunnel connection curve preferences: [X25519MLKEM768 CurveP256] connIndex=3 event=0 ip=198.41.192.47
Sep 01 01:26:36 raspberrypi cloudflared[837124]: 2025-09-01T05:26:36Z INF Registered tunnel connection connIndex=3 connection=aed6a2be-ef8e-423e-83c9-621e287bfa5d event=0 ip=198.41.192.47 location=mia01 protocol=quic

=== 3. PORT CONFLICTS CHECK ===
Port 8000 usage:

Port 9000 usage:

All Python processes:
michoma+  863764  0.0  0.0   6240  1600 pts/0    S+   15:11   0:00 grep --color=auto python

=== 4. API SERVER TESTING ===
Testing API server import:
[15:12:34] Starting EZREC deployment as user: root
[15:12:34] STEP: 1. Stopping old services
[15:12:34] Managing dual_recorder: stop
[15:12:34] Managing video_worker: stop
[15:12:34] Managing ezrec-api: stop
[15:12:34] Managing system_status: stop
[15:12:34] Managing dual_recorder: disable
[15:12:34] Managing video_worker: disable
[15:12:34] Managing ezrec-api: disable
[15:12:34] Managing system_status: disable
[15:12:35] STEP: 2. Cleaning up old installation
[15:12:35] ğŸ”’ Backing up existing .env file
[15:12:35] âœ… .env file backed up successfully
[15:12:35] ğŸ§¹ Cleaning up old installation (preserving .env)...
[15:12:35] ğŸ”’ .env file found - will preserve it during cleanup
[15:12:35] âœ… Cleaned up old files (preserved .env)
[15:12:35] âœ… .env file successfully preserved
[15:12:35] STEP: 3. Copying project files
[15:12:35] ğŸ”’ Restoring .env file
[15:12:35] âœ… .env file restored successfully
[15:12:35] ğŸ”§ Ensuring required environment variables are present...
[15:12:35] âœ… All required environment variables are present
[15:12:35] ğŸ”§ Ensuring API server file is properly deployed...
[15:12:35] ğŸ”§ Ensuring API server file is properly deployed...
[15:12:35] ğŸ“ Found api_server.py in project api/ directory
[15:12:35] ğŸ“‹ Copying api/api_server.py to /opt/ezrec-backend/api/
[15:12:35] âœ… API server file deployed successfully
[15:12:35] STEP: Installing system dependencies

WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

Hit:1 http://deb.debian.org/debian bookworm InRelease
Get:2 http://deb.debian.org/debian-security bookworm-security InRelease [48.0 kB]
Get:3 http://deb.debian.org/debian bookworm-updates InRelease [55.4 kB]
Get:4 http://archive.raspberrypi.com/debian bookworm InRelease [55.0 kB]
Get:5 http://archive.raspberrypi.com/debian bookworm/main armhf Packages [556 kB]
Get:6 http://archive.raspberrypi.com/debian bookworm/main arm64 Packages [556 kB]
Fetched 1,270 kB in 2s (759 kB/s)
Reading package lists...
Building dependency tree...
Reading state information...
47 packages can be upgraded. Run 'apt list --upgradable' to see them.

WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

Reading package lists...
Building dependency tree...
Reading state information...
build-essential is already the newest version (12.9).
libjpeg-dev is already the newest version (1:2.1.5-2).
ffmpeg is already the newest version (8:5.1.7-0+deb12u1+rpt1).
v4l-utils is already the newest version (1.22.1-5+b2).
imagemagick is already the newest version (8:6.9.11.60+dfsg-1.6+deb12u3).
python3-libcamera is already the newest version (0.5.1+rpt20250722-1).
python3-picamera2 is already the newest version (0.3.30-1).
python3-pip is already the newest version (23.0.1+dfsg-1+rpt1).
python3-venv is already the newest version (3.11.2-1+b1).
python3-dev is already the newest version (3.11.2-1+b1).
libavcodec-extra is already the newest version (8:5.1.7-0+deb12u1+rpt1).
libavdevice-dev is already the newest version (8:5.1.7-0+deb12u1+rpt1).
libavfilter-dev is already the newest version (8:5.1.7-0+deb12u1+rpt1).
libavformat-dev is already the newest version (8:5.1.7-0+deb12u1+rpt1).
libavutil-dev is already the newest version (8:5.1.7-0+deb12u1+rpt1).
libswscale-dev is already the newest version (8:5.1.7-0+deb12u1+rpt1).
libswresample-dev is already the newest version (8:5.1.7-0+deb12u1+rpt1).
v4l2loopback-dkms is already the newest version (0.13.2-1~bpo12+1~rpt1).
python3-opencv is already the newest version (4.6.0+dfsg-12).
libopencv-dev is already the newest version (4.6.0+dfsg-12).
git is already the newest version (1:2.39.5-0+deb12u2).
curl is already the newest version (7.88.1-10+deb12u12).
wget is already the newest version (1.21.3-1+deb12u1).
vim is already the newest version (2:9.0.1378-2+deb12u2).
htop is already the newest version (3.2.2-2).
0 upgraded, 0 newly installed, 0 to remove and 47 not upgraded.
[15:12:39] System dependencies installed
[15:12:39] STEP: Setting up users and groups
[15:12:39] Added users to video group
[15:12:39] STEP: Setting up directory structure
[15:12:39] Directory structure created
[15:12:39] STEP: 6. Setting up virtual environments
[15:12:39] Setting up backend virtual environment
[15:12:39] ğŸ”„ Creating new virtual environment...
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./venv/lib/python3.11/site-packages (23.0.1)
Collecting pip
  Downloading https://www.piwheels.org/simple/pip/pip-25.2-py3-none-any.whl (1.8 MB)
     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1.8/1.8 MB 2.0 MB/s eta 0:00:00
Installing collected packages: pip
  Attempting uninstall: pip
    Found existing installation: pip 23.0.1
    Uninstalling pip-23.0.1:
      Successfully uninstalled pip-23.0.1
Successfully installed pip-25.2
[15:12:48] Installing dependencies with PyPI forcing for problematic packages...
[15:12:48] Installing dependencies with optimized conflict resolution...
[15:12:48] Installing core dependencies first...
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting fastapi==0.104.1
  Downloading https://www.piwheels.org/simple/fastapi/fastapi-0.104.1-py3-none-any.whl (92 kB)
Collecting uvicorn==0.24.0 (from uvicorn[standard]==0.24.0)
  Downloading https://www.piwheels.org/simple/uvicorn/uvicorn-0.24.0-py3-none-any.whl (59 kB)
Collecting python-multipart==0.0.6
  Downloading https://www.piwheels.org/simple/python-multipart/python_multipart-0.0.6-py3-none-any.whl (45 kB)
Requirement already satisfied: python-dotenv==1.0.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (1.0.0)
Collecting boto3==1.34.0
  Downloading https://archive1.piwheels.org/simple/boto3/boto3-1.34.0-py3-none-any.whl (136 kB)
Collecting supabase==2.0.2
  Downloading https://archive1.piwheels.org/simple/supabase/supabase-2.0.2-py3-none-any.whl (11 kB)
Collecting httpx<0.25.0,>=0.24.0
  Downloading https://www.piwheels.org/simple/httpx/httpx-0.24.1-py3-none-any.whl (75 kB)
Collecting Pillow==10.1.0
  Downloading Pillow-10.1.0-cp311-cp311-manylinux_2_28_aarch64.whl.metadata (9.5 kB)
Collecting simplejpeg==1.6.6
  Downloading simplejpeg-1.6.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.manylinux_2_24_aarch64.whl.metadata (6.8 kB)
Collecting av>=15.0.0
  Downloading av-15.1.0-cp311-cp311-manylinux_2_28_aarch64.whl.metadata (4.6 kB)
Collecting picamera2==0.3.12
  Downloading https://www.piwheels.org/simple/picamera2/picamera2-0.3.12-py3-none-any.whl (62 kB)
Requirement already satisfied: numpy<2.0.0,>=1.24.0 in /usr/lib/python3/dist-packages (1.24.2)
Requirement already satisfied: psutil>=5.9.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (5.9.5)
Collecting schedule==1.2.0
  Downloading https://www.piwheels.org/simple/schedule/schedule-1.2.0-py3-none-any.whl (11 kB)
Collecting email-validator>=2.0.0
  Downloading email_validator-2.3.0-py3-none-any.whl.metadata (26 kB)
Collecting anyio<4.0.0,>=3.7.1 (from fastapi==0.104.1)
  Downloading https://www.piwheels.org/simple/anyio/anyio-3.7.1-py3-none-any.whl (80 kB)
Requirement already satisfied: pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from fastapi==0.104.1) (2.11.7)
Collecting starlette<0.28.0,>=0.27.0 (from fastapi==0.104.1)
  Downloading https://www.piwheels.org/simple/starlette/starlette-0.27.0-py3-none-any.whl (66 kB)
Requirement already satisfied: typing-extensions>=4.8.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from fastapi==0.104.1) (4.14.0)
Requirement already satisfied: click>=7.0 in /usr/lib/python3/dist-packages (from uvicorn==0.24.0->uvicorn[standard]==0.24.0) (8.1.3)
Requirement already satisfied: h11>=0.8 in /usr/local/lib/python3.11/dist-packages (from uvicorn==0.24.0->uvicorn[standard]==0.24.0) (0.16.0)
Collecting botocore<1.35.0,>=1.34.0 (from boto3==1.34.0)
  Downloading https://www.piwheels.org/simple/botocore/botocore-1.34.162-py3-none-any.whl (12.4 MB)
     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 12.4/12.4 MB 9.5 MB/s  0:00:01
Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /usr/lib/python3/dist-packages (from boto3==1.34.0) (1.0.1)
Collecting s3transfer<0.10.0,>=0.9.0 (from boto3==1.34.0)
  Downloading https://archive1.piwheels.org/simple/s3transfer/s3transfer-0.9.0-py3-none-any.whl (82 kB)
Collecting gotrue<2.0.0,>=1.3.0 (from supabase==2.0.2)
  Downloading https://www.piwheels.org/simple/gotrue/gotrue-1.3.1-py3-none-any.whl (42 kB)
Collecting postgrest<0.14.0,>=0.10.8 (from supabase==2.0.2)
  Downloading https://www.piwheels.org/simple/postgrest/postgrest-0.13.2-py3-none-any.whl (19 kB)
Collecting realtime<2.0.0,>=1.0.0 (from supabase==2.0.2)
  Downloading https://www.piwheels.org/simple/realtime/realtime-1.0.6-py3-none-any.whl (9.0 kB)
Collecting storage3<0.7.0,>=0.5.3 (from supabase==2.0.2)
  Downloading https://www.piwheels.org/simple/storage3/storage3-0.6.1-py3-none-any.whl (15 kB)
Collecting supafunc<0.4.0,>=0.3.1 (from supabase==2.0.2)
  Downloading https://www.piwheels.org/simple/supafunc/supafunc-0.3.3-py3-none-any.whl (6.1 kB)
Requirement already satisfied: PiDNG in /usr/lib/python3/dist-packages (from picamera2==0.3.12) (4.0.9)
Requirement already satisfied: piexif in /usr/lib/python3/dist-packages (from picamera2==0.3.12) (1.1.3)
Collecting v4l2-python3 (from picamera2==0.3.12)
  Downloading https://www.piwheels.org/simple/v4l2-python3/v4l2_python3-0.3.5-py3-none-any.whl (22 kB)
Requirement already satisfied: python-prctl in /usr/lib/python3/dist-packages (from picamera2==0.3.12) (1.8.1)
Collecting httptools>=0.5.0 (from uvicorn[standard]==0.24.0)
  Downloading httptools-0.6.4-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (3.6 kB)
Collecting pyyaml>=5.1 (from uvicorn[standard]==0.24.0)
  Downloading PyYAML-6.0.2-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (2.1 kB)
Collecting uvloop!=0.15.0,!=0.15.1,>=0.14.0 (from uvicorn[standard]==0.24.0)
  Downloading uvloop-0.21.0-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (4.9 kB)
Collecting watchfiles>=0.13 (from uvicorn[standard]==0.24.0)
  Downloading watchfiles-1.1.0-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (4.9 kB)
Requirement already satisfied: websockets>=10.4 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from uvicorn[standard]==0.24.0) (12.0)
Requirement already satisfied: certifi in /home/michomanoly14892/.local/lib/python3.11/site-packages (from httpx<0.25.0,>=0.24.0) (2025.6.15)
Collecting httpcore<0.18.0,>=0.15.0 (from httpx<0.25.0,>=0.24.0)
  Downloading https://www.piwheels.org/simple/httpcore/httpcore-0.17.3-py3-none-any.whl (74 kB)
Requirement already satisfied: idna in /home/michomanoly14892/.local/lib/python3.11/site-packages (from httpx<0.25.0,>=0.24.0) (3.10)
Requirement already satisfied: sniffio in /home/michomanoly14892/.local/lib/python3.11/site-packages (from httpx<0.25.0,>=0.24.0) (1.3.1)
Requirement already satisfied: python-dateutil<3.0.0,>=2.1 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from botocore<1.35.0,>=1.34.0->boto3==1.34.0) (2.9.0.post0)
Requirement already satisfied: urllib3!=2.2.0,<3,>=1.25.4 in /usr/lib/python3/dist-packages (from botocore<1.35.0,>=1.34.0->boto3==1.34.0) (1.26.12)
Collecting h11>=0.8 (from uvicorn==0.24.0->uvicorn[standard]==0.24.0)
  Downloading https://www.piwheels.org/simple/h11/h11-0.14.0-py3-none-any.whl (58 kB)
Requirement already satisfied: deprecation<3.0.0,>=2.1.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from postgrest<0.14.0,>=0.10.8->supabase==2.0.2) (2.1.0)
Requirement already satisfied: strenum<0.5.0,>=0.4.9 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from postgrest<0.14.0,>=0.10.8->supabase==2.0.2) (0.4.15)
Requirement already satisfied: packaging in /home/michomanoly14892/.local/lib/python3.11/site-packages (from deprecation<3.0.0,>=2.1.0->postgrest<0.14.0,>=0.10.8->supabase==2.0.2) (25.0)
Requirement already satisfied: annotated-types>=0.6.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4->fastapi==0.104.1) (0.7.0)
Requirement already satisfied: pydantic-core==2.33.2 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4->fastapi==0.104.1) (2.33.2)
Requirement already satisfied: typing-inspection>=0.4.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4->fastapi==0.104.1) (0.4.1)
Requirement already satisfied: six>=1.5 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.35.0,>=1.34.0->boto3==1.34.0) (1.17.0)
Collecting dnspython>=2.0.0 (from email-validator>=2.0.0)
  Downloading https://www.piwheels.org/simple/dnspython/dnspython-2.7.0-py3-none-any.whl (313 kB)
Downloading Pillow-10.1.0-cp311-cp311-manylinux_2_28_aarch64.whl (3.5 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 3.5/3.5 MB 3.1 MB/s  0:00:01
Downloading simplejpeg-1.6.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.manylinux_2_24_aarch64.whl (242 kB)
Downloading av-15.1.0-cp311-cp311-manylinux_2_28_aarch64.whl (38.1 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 38.1/38.1 MB 11.5 MB/s  0:00:03
Downloading email_validator-2.3.0-py3-none-any.whl (35 kB)
Downloading httptools-0.6.4-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (462 kB)
Downloading PyYAML-6.0.2-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (736 kB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 736.8/736.8 kB 22.0 MB/s  0:00:00
Downloading uvloop-0.21.0-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (4.0 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 4.0/4.0 MB 15.3 MB/s  0:00:00
Downloading watchfiles-1.1.0-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (450 kB)
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: v4l2-python3, uvloop, simplejpeg, schedule, pyyaml, python-multipart, Pillow, httptools, h11, dnspython, av, anyio, watchfiles, uvicorn, starlette, realtime, picamera2, httpcore, email-validator, botocore, s3transfer, httpx, fastapi, supafunc, storage3, postgrest, gotrue, boto3, supabase
  Attempting uninstall: simplejpeg
    Found existing installation: simplejpeg 1.8.1
    Not uninstalling simplejpeg at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'simplejpeg'. No files were found to uninstall.
  Attempting uninstall: Pillow
    Found existing installation: Pillow 9.4.0
    Not uninstalling pillow at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'Pillow'. No files were found to uninstall.
  Attempting uninstall: h11
    Found existing installation: h11 0.16.0
    Not uninstalling h11 at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'h11'. No files were found to uninstall.
  Attempting uninstall: av
    Found existing installation: av 12.3.0
    Not uninstalling av at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'av'. No files were found to uninstall.
  Attempting uninstall: anyio
    Found existing installation: anyio 4.9.0
    Not uninstalling anyio at /home/michomanoly14892/.local/lib/python3.11/site-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'anyio'. No files were found to uninstall.
  Attempting uninstall: realtime
    Found existing installation: realtime 2.5.3
    Not uninstalling realtime at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'realtime'. No files were found to uninstall.
  Attempting uninstall: picamera2
    Found existing installation: picamera2 0.3.30
    Not uninstalling picamera2 at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'picamera2'. No files were found to uninstall.
  Attempting uninstall: httpcore
    Found existing installation: httpcore 1.0.9
    Not uninstalling httpcore at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'httpcore'. No files were found to uninstall.
  Attempting uninstall: botocore
    Found existing installation: botocore 1.29.27
    Not uninstalling botocore at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'botocore'. No files were found to uninstall.
  Attempting uninstall: s3transfer
    Found existing installation: s3transfer 0.6.0
    Not uninstalling s3transfer at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 's3transfer'. No files were found to uninstall.
  Attempting uninstall: httpx
    Found existing installation: httpx 0.28.1
    Not uninstalling httpx at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'httpx'. No files were found to uninstall.
  Attempting uninstall: supafunc
    Found existing installation: supafunc 0.10.1
    Not uninstalling supafunc at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'supafunc'. No files were found to uninstall.
  Attempting uninstall: storage3
    Found existing installation: storage3 0.12.0
    Not uninstalling storage3 at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'storage3'. No files were found to uninstall.
  Attempting uninstall: postgrest
    Found existing installation: postgrest 1.1.1
    Not uninstalling postgrest at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'postgrest'. No files were found to uninstall.
  Attempting uninstall: gotrue
    Found existing installation: gotrue 2.12.2
    Not uninstalling gotrue at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'gotrue'. No files were found to uninstall.
  Attempting uninstall: boto3
    Found existing installation: boto3 1.26.27
    Not uninstalling boto3 at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'boto3'. No files were found to uninstall.
  Attempting uninstall: supabase
    Found existing installation: supabase 2.16.0
    Not uninstalling supabase at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'supabase'. No files were found to uninstall.

Successfully installed Pillow-10.1.0 anyio-3.7.1 av-15.1.0 boto3-1.34.0 botocore-1.34.162 dnspython-2.7.0 email-validator-2.3.0 fastapi-0.104.1 gotrue-1.3.1 h11-0.14.0 httpcore-0.17.3 httptools-0.6.4 httpx-0.24.1 picamera2-0.3.12 postgrest-0.13.2 python-multipart-0.0.6 pyyaml-6.0.2 realtime-1.0.6 s3transfer-0.9.0 schedule-1.2.0 simplejpeg-1.6.6 starlette-0.27.0 storage3-0.6.1 supabase-2.0.2 supafunc-0.3.3 uvicorn-0.24.0 uvloop-0.21.0 v4l2-python3-0.3.5 watchfiles-1.1.0
[15:13:17] âœ… Core dependencies installed successfully
[15:13:17] ğŸ”§ Fixing numpy version conflicts...
Found existing installation: numpy 1.24.2
Not uninstalling numpy at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/backend/venv
Can't uninstall 'numpy'. No files were found to uninstall.
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: numpy<2.0.0,>=1.24.0 in /usr/lib/python3/dist-packages (1.24.2)
WARNING: Error parsing dependencies of send2trash: Expected matching RIGHT_PARENTHESIS for LEFT_PARENTHESIS, after version specifier
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting opencv-python>=4.8.0
  Downloading opencv_python-4.12.0.88-cp37-abi3-manylinux2014_aarch64.manylinux_2_17_aarch64.whl.metadata (19 kB)
Collecting opencv-contrib-python>=4.8.0
  Downloading opencv_contrib_python-4.12.0.88-cp37-abi3-manylinux2014_aarch64.manylinux_2_17_aarch64.whl.metadata (19 kB)
Collecting numpy<2.3.0,>=2 (from opencv-python>=4.8.0)
  Downloading numpy-2.2.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (63 kB)
Downloading opencv_python-4.12.0.88-cp37-abi3-manylinux2014_aarch64.manylinux_2_17_aarch64.whl (45.9 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 45.9/45.9 MB 11.9 MB/s  0:00:03
Downloading numpy-2.2.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (14.3 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 14.3/14.3 MB 14.7 MB/s  0:00:00
Downloading opencv_contrib_python-4.12.0.88-cp37-abi3-manylinux2014_aarch64.manylinux_2_17_aarch64.whl (51.3 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 51.3/51.3 MB 14.2 MB/s  0:00:03
WARNING: Error parsing dependencies of send2trash: Expected matching RIGHT_PARENTHESIS for LEFT_PARENTHESIS, after version specifier
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: numpy, opencv-python, opencv-contrib-python
  Attempting uninstall: numpy
    Found existing installation: numpy 1.24.2
    Not uninstalling numpy at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'numpy'. No files were found to uninstall.
  Attempting uninstall: opencv-python
    Found existing installation: opencv-python 4.11.0.86
    Not uninstalling opencv-python at /home/michomanoly14892/.local/lib/python3.11/site-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'opencv-python'. No files were found to uninstall.

Successfully installed numpy-2.2.6 opencv-contrib-python-4.12.0.88 opencv-python-4.12.0.88
[15:13:35] âœ… Numpy conflicts resolved
[15:13:35] Installing OpenCV stitching dependencies...
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: opencv-python>=4.8.0 in ./venv/lib/python3.11/site-packages (4.12.0.88)
Requirement already satisfied: opencv-contrib-python>=4.8.0 in ./venv/lib/python3.11/site-packages (4.12.0.88)
Requirement already satisfied: numpy<2.3.0,>=2 in ./venv/lib/python3.11/site-packages (from opencv-python>=4.8.0) (2.2.6)
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
[15:13:37] âœ… OpenCV dependencies installed successfully
[15:13:37] ğŸ”§ Ensuring stitch module structure with proper permissions...
[15:13:37] âœ… Stitch module created with proper permissions
[15:13:37] ğŸ”§ Installing typing-extensions with fallback strategies...
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting typing-extensions>=4.12.0
  Downloading typing_extensions-4.15.0-py3-none-any.whl.metadata (3.3 kB)
Downloading typing_extensions-4.15.0-py3-none-any.whl (44 kB)
WARNING: Error parsing dependencies of send2trash: Expected matching RIGHT_PARENTHESIS for LEFT_PARENTHESIS, after version specifier
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: typing-extensions
  Attempting uninstall: typing-extensions
    Found existing installation: typing_extensions 4.14.0
    Not uninstalling typing-extensions at /home/michomanoly14892/.local/lib/python3.11/site-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'typing_extensions'. No files were found to uninstall.
Successfully installed typing-extensions-4.15.0
[15:13:40] âœ… typing-extensions installed successfully with version constraint
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting simplejpeg
  Downloading simplejpeg-1.8.2.tar.gz (5.5 MB)
     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 5.5/5.5 MB 8.6 MB/s  0:00:00
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Collecting numpy>=1.19.3 (from simplejpeg)
  Downloading numpy-2.3.2-cp311-cp311-manylinux_2_27_aarch64.manylinux_2_28_aarch64.whl.metadata (62 kB)
Downloading numpy-2.3.2-cp311-cp311-manylinux_2_27_aarch64.manylinux_2_28_aarch64.whl (14.6 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 14.6/14.6 MB 12.5 MB/s  0:00:01
Building wheels for collected packages: simplejpeg
  Building wheel for simplejpeg (pyproject.toml): started
  Building wheel for simplejpeg (pyproject.toml): still running...
  Building wheel for simplejpeg (pyproject.toml): still running...
  Building wheel for simplejpeg (pyproject.toml): still running...
  Building wheel for simplejpeg (pyproject.toml): finished with status 'done'
  Created wheel for simplejpeg: filename=simplejpeg-1.8.2-cp311-cp311-linux_aarch64.whl size=442433 sha256=5a04d5bc39700f5f6353258025e12c1bfed9f2a67238371d1f23d2b847a75767
  Stored in directory: /tmp/pip-ephem-wheel-cache-nwvdlraa/wheels/2a/4a/8b/5589c46335d8955dde48df4c3fd1370c51df6df06472dd2103
Successfully built simplejpeg
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: numpy, simplejpeg
  Attempting uninstall: numpy
    Found existing installation: numpy 2.2.6
    Uninstalling numpy-2.2.6:
      Successfully uninstalled numpy-2.2.6
  Attempting uninstall: simplejpeg
    Found existing installation: simplejpeg 1.6.6
    Uninstalling simplejpeg-1.6.6:
      Successfully uninstalled simplejpeg-1.6.6

ERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.
opencv-python 4.12.0.88 requires numpy<2.3.0,>=2; python_version >= "3.9", but you have numpy 2.3.2 which is incompatible.
opencv-contrib-python 4.12.0.88 requires numpy<2.3.0,>=2; python_version >= "3.9", but you have numpy 2.3.2 which is incompatible.
Successfully installed numpy-2.3.2 simplejpeg-1.8.2
[15:17:47] Upgrading PyAV to ensure picamera2 compatibility
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: av>=15.0.0 in ./venv/lib/python3.11/site-packages (15.1.0)
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
[15:17:50] Installing OpenCV stitching dependencies with compatible numpy...
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting numpy==1.24.2
  Downloading numpy-1.24.2-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (5.6 kB)
Downloading numpy-1.24.2-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (14.0 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 14.0/14.0 MB 10.0 MB/s  0:00:01
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: numpy
  Attempting uninstall: numpy
    Found existing installation: numpy 2.3.2
    Uninstalling numpy-2.3.2:
      Successfully uninstalled numpy-2.3.2
ERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.
opencv-python 4.12.0.88 requires numpy<2.3.0,>=2; python_version >= "3.9", but you have numpy 1.24.2 which is incompatible.
opencv-contrib-python 4.12.0.88 requires numpy<2.3.0,>=2; python_version >= "3.9", but you have numpy 1.24.2 which is incompatible.
Successfully installed numpy-1.24.2
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: opencv-python>=4.8.0 in ./venv/lib/python3.11/site-packages (4.12.0.88)
Requirement already satisfied: opencv-contrib-python>=4.8.0 in ./venv/lib/python3.11/site-packages (4.12.0.88)
Collecting numpy<2.3.0,>=2 (from opencv-python>=4.8.0)
  Downloading numpy-2.2.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (63 kB)
Downloading numpy-2.2.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (14.3 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 14.3/14.3 MB 9.2 MB/s  0:00:01
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: numpy
  Attempting uninstall: numpy
    Found existing installation: numpy 1.24.2
    Uninstalling numpy-1.24.2:
      Successfully uninstalled numpy-1.24.2
Successfully installed numpy-2.2.6
[15:18:03] Verifying picamera2 and PyAV compatibility
âœ… picamera2 and PyAV compatibility verified
[15:18:04] âœ… picamera2 and PyAV compatibility verified
[15:18:04] Verifying OpenCV stitching compatibility
âœ… OpenCV stitching compatibility verified
[15:18:04] âœ… OpenCV stitching compatibility verified
[15:18:04] Verifying stitch module import compatibility
[15:18:04] WARNING: âš ï¸ Stitch module import check failed
[15:18:04] backend virtual environment ready
[15:18:04] Setting up API virtual environment
[15:18:04] ğŸ”„ Creating new virtual environment...
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./venv/lib/python3.11/site-packages (23.0.1)
Collecting pip
  Downloading https://www.piwheels.org/simple/pip/pip-25.2-py3-none-any.whl (1.8 MB)
     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1.8/1.8 MB 1.4 MB/s eta 0:00:00
Installing collected packages: pip
  Attempting uninstall: pip
    Found existing installation: pip 23.0.1
    Uninstalling pip-23.0.1:
      Successfully uninstalled pip-23.0.1
Successfully installed pip-25.2
[15:18:12] Installing dependencies with PyPI forcing for problematic packages...
[15:18:12] Installing dependencies with optimized conflict resolution...
[15:18:12] Installing core dependencies first...
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting fastapi==0.104.1
  Downloading https://www.piwheels.org/simple/fastapi/fastapi-0.104.1-py3-none-any.whl (92 kB)
Collecting uvicorn==0.24.0 (from uvicorn[standard]==0.24.0)
  Downloading https://www.piwheels.org/simple/uvicorn/uvicorn-0.24.0-py3-none-any.whl (59 kB)
Collecting python-multipart==0.0.6
  Downloading https://www.piwheels.org/simple/python-multipart/python_multipart-0.0.6-py3-none-any.whl (45 kB)
Requirement already satisfied: python-dotenv==1.0.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (1.0.0)
Collecting boto3==1.34.0
  Downloading https://archive1.piwheels.org/simple/boto3/boto3-1.34.0-py3-none-any.whl (136 kB)
Collecting supabase==2.0.2
  Downloading https://archive1.piwheels.org/simple/supabase/supabase-2.0.2-py3-none-any.whl (11 kB)
Collecting httpx<0.25.0,>=0.24.0
  Downloading https://www.piwheels.org/simple/httpx/httpx-0.24.1-py3-none-any.whl (75 kB)
Collecting Pillow==10.1.0
  Downloading Pillow-10.1.0-cp311-cp311-manylinux_2_28_aarch64.whl.metadata (9.5 kB)
Collecting simplejpeg==1.6.6
  Downloading simplejpeg-1.6.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.manylinux_2_24_aarch64.whl.metadata (6.8 kB)
Collecting av>=15.0.0
  Downloading av-15.1.0-cp311-cp311-manylinux_2_28_aarch64.whl.metadata (4.6 kB)
Collecting picamera2==0.3.12
  Downloading https://www.piwheels.org/simple/picamera2/picamera2-0.3.12-py3-none-any.whl (62 kB)
Requirement already satisfied: numpy<2.0.0,>=1.24.0 in /usr/lib/python3/dist-packages (1.24.2)
Requirement already satisfied: psutil>=5.9.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (5.9.5)
Collecting schedule==1.2.0
  Downloading https://www.piwheels.org/simple/schedule/schedule-1.2.0-py3-none-any.whl (11 kB)
Collecting email-validator>=2.0.0
  Downloading email_validator-2.3.0-py3-none-any.whl.metadata (26 kB)
Collecting anyio<4.0.0,>=3.7.1 (from fastapi==0.104.1)
  Downloading https://www.piwheels.org/simple/anyio/anyio-3.7.1-py3-none-any.whl (80 kB)
Requirement already satisfied: pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from fastapi==0.104.1) (2.11.7)
Collecting starlette<0.28.0,>=0.27.0 (from fastapi==0.104.1)
  Downloading https://www.piwheels.org/simple/starlette/starlette-0.27.0-py3-none-any.whl (66 kB)
Requirement already satisfied: typing-extensions>=4.8.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from fastapi==0.104.1) (4.14.0)
Requirement already satisfied: click>=7.0 in /usr/lib/python3/dist-packages (from uvicorn==0.24.0->uvicorn[standard]==0.24.0) (8.1.3)
Requirement already satisfied: h11>=0.8 in /usr/local/lib/python3.11/dist-packages (from uvicorn==0.24.0->uvicorn[standard]==0.24.0) (0.16.0)
Collecting botocore<1.35.0,>=1.34.0 (from boto3==1.34.0)
  Downloading https://www.piwheels.org/simple/botocore/botocore-1.34.162-py3-none-any.whl (12.4 MB)
     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 12.4/12.4 MB 2.3 MB/s  0:00:05
Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /usr/lib/python3/dist-packages (from boto3==1.34.0) (1.0.1)
Collecting s3transfer<0.10.0,>=0.9.0 (from boto3==1.34.0)
  Downloading https://archive1.piwheels.org/simple/s3transfer/s3transfer-0.9.0-py3-none-any.whl (82 kB)
Collecting gotrue<2.0.0,>=1.3.0 (from supabase==2.0.2)
  Downloading https://www.piwheels.org/simple/gotrue/gotrue-1.3.1-py3-none-any.whl (42 kB)
Collecting postgrest<0.14.0,>=0.10.8 (from supabase==2.0.2)
  Downloading https://www.piwheels.org/simple/postgrest/postgrest-0.13.2-py3-none-any.whl (19 kB)
Collecting realtime<2.0.0,>=1.0.0 (from supabase==2.0.2)
  Downloading https://www.piwheels.org/simple/realtime/realtime-1.0.6-py3-none-any.whl (9.0 kB)
Collecting storage3<0.7.0,>=0.5.3 (from supabase==2.0.2)
  Downloading https://www.piwheels.org/simple/storage3/storage3-0.6.1-py3-none-any.whl (15 kB)
Collecting supafunc<0.4.0,>=0.3.1 (from supabase==2.0.2)
  Downloading https://www.piwheels.org/simple/supafunc/supafunc-0.3.3-py3-none-any.whl (6.1 kB)
Requirement already satisfied: PiDNG in /usr/lib/python3/dist-packages (from picamera2==0.3.12) (4.0.9)
Requirement already satisfied: piexif in /usr/lib/python3/dist-packages (from picamera2==0.3.12) (1.1.3)
Collecting v4l2-python3 (from picamera2==0.3.12)
  Downloading https://www.piwheels.org/simple/v4l2-python3/v4l2_python3-0.3.5-py3-none-any.whl (22 kB)
Requirement already satisfied: python-prctl in /usr/lib/python3/dist-packages (from picamera2==0.3.12) (1.8.1)
Collecting httptools>=0.5.0 (from uvicorn[standard]==0.24.0)
  Downloading httptools-0.6.4-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (3.6 kB)
Collecting pyyaml>=5.1 (from uvicorn[standard]==0.24.0)
  Downloading PyYAML-6.0.2-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (2.1 kB)
Collecting uvloop!=0.15.0,!=0.15.1,>=0.14.0 (from uvicorn[standard]==0.24.0)
  Downloading uvloop-0.21.0-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (4.9 kB)
Collecting watchfiles>=0.13 (from uvicorn[standard]==0.24.0)
  Downloading watchfiles-1.1.0-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (4.9 kB)
Requirement already satisfied: websockets>=10.4 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from uvicorn[standard]==0.24.0) (12.0)
Requirement already satisfied: certifi in /home/michomanoly14892/.local/lib/python3.11/site-packages (from httpx<0.25.0,>=0.24.0) (2025.6.15)
Collecting httpcore<0.18.0,>=0.15.0 (from httpx<0.25.0,>=0.24.0)
  Downloading https://www.piwheels.org/simple/httpcore/httpcore-0.17.3-py3-none-any.whl (74 kB)
Requirement already satisfied: idna in /home/michomanoly14892/.local/lib/python3.11/site-packages (from httpx<0.25.0,>=0.24.0) (3.10)
Requirement already satisfied: sniffio in /home/michomanoly14892/.local/lib/python3.11/site-packages (from httpx<0.25.0,>=0.24.0) (1.3.1)
Requirement already satisfied: python-dateutil<3.0.0,>=2.1 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from botocore<1.35.0,>=1.34.0->boto3==1.34.0) (2.9.0.post0)
Requirement already satisfied: urllib3!=2.2.0,<3,>=1.25.4 in /usr/lib/python3/dist-packages (from botocore<1.35.0,>=1.34.0->boto3==1.34.0) (1.26.12)
Collecting h11>=0.8 (from uvicorn==0.24.0->uvicorn[standard]==0.24.0)
  Downloading https://www.piwheels.org/simple/h11/h11-0.14.0-py3-none-any.whl (58 kB)
Requirement already satisfied: deprecation<3.0.0,>=2.1.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from postgrest<0.14.0,>=0.10.8->supabase==2.0.2) (2.1.0)
Requirement already satisfied: strenum<0.5.0,>=0.4.9 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from postgrest<0.14.0,>=0.10.8->supabase==2.0.2) (0.4.15)
Requirement already satisfied: packaging in /home/michomanoly14892/.local/lib/python3.11/site-packages (from deprecation<3.0.0,>=2.1.0->postgrest<0.14.0,>=0.10.8->supabase==2.0.2) (25.0)
Requirement already satisfied: annotated-types>=0.6.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4->fastapi==0.104.1) (0.7.0)
Requirement already satisfied: pydantic-core==2.33.2 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4->fastapi==0.104.1) (2.33.2)
Requirement already satisfied: typing-inspection>=0.4.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4->fastapi==0.104.1) (0.4.1)
Requirement already satisfied: six>=1.5 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.35.0,>=1.34.0->boto3==1.34.0) (1.17.0)
Collecting dnspython>=2.0.0 (from email-validator>=2.0.0)
  Downloading https://www.piwheels.org/simple/dnspython/dnspython-2.7.0-py3-none-any.whl (313 kB)
Downloading Pillow-10.1.0-cp311-cp311-manylinux_2_28_aarch64.whl (3.5 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 3.5/3.5 MB 8.9 MB/s  0:00:00
Downloading simplejpeg-1.6.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.manylinux_2_24_aarch64.whl (242 kB)
Downloading av-15.1.0-cp311-cp311-manylinux_2_28_aarch64.whl (38.1 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 38.1/38.1 MB 11.5 MB/s  0:00:03
Downloading email_validator-2.3.0-py3-none-any.whl (35 kB)
Downloading httptools-0.6.4-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (462 kB)
Downloading PyYAML-6.0.2-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (736 kB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 736.8/736.8 kB 15.5 MB/s  0:00:00
Downloading uvloop-0.21.0-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (4.0 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 4.0/4.0 MB 13.5 MB/s  0:00:00
Downloading watchfiles-1.1.0-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (450 kB)
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: v4l2-python3, uvloop, simplejpeg, schedule, pyyaml, python-multipart, Pillow, httptools, h11, dnspython, av, anyio, watchfiles, uvicorn, starlette, realtime, picamera2, httpcore, email-validator, botocore, s3transfer, httpx, fastapi, supafunc, storage3, postgrest, gotrue, boto3, supabase
  Attempting uninstall: simplejpeg
    Found existing installation: simplejpeg 1.8.1
    Not uninstalling simplejpeg at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'simplejpeg'. No files were found to uninstall.
  Attempting uninstall: Pillow
    Found existing installation: Pillow 9.4.0
    Not uninstalling pillow at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'Pillow'. No files were found to uninstall.
  Attempting uninstall: h11
    Found existing installation: h11 0.16.0
    Not uninstalling h11 at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'h11'. No files were found to uninstall.
  Attempting uninstall: av
    Found existing installation: av 12.3.0
    Not uninstalling av at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'av'. No files were found to uninstall.
  Attempting uninstall: anyio
    Found existing installation: anyio 4.9.0
    Not uninstalling anyio at /home/michomanoly14892/.local/lib/python3.11/site-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'anyio'. No files were found to uninstall.
  Attempting uninstall: realtime
    Found existing installation: realtime 2.5.3
    Not uninstalling realtime at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'realtime'. No files were found to uninstall.
  Attempting uninstall: picamera2
    Found existing installation: picamera2 0.3.30
    Not uninstalling picamera2 at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'picamera2'. No files were found to uninstall.
  Attempting uninstall: httpcore
    Found existing installation: httpcore 1.0.9
    Not uninstalling httpcore at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'httpcore'. No files were found to uninstall.
  Attempting uninstall: botocore
    Found existing installation: botocore 1.29.27
    Not uninstalling botocore at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'botocore'. No files were found to uninstall.
  Attempting uninstall: s3transfer
    Found existing installation: s3transfer 0.6.0
    Not uninstalling s3transfer at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 's3transfer'. No files were found to uninstall.
  Attempting uninstall: httpx
    Found existing installation: httpx 0.28.1
    Not uninstalling httpx at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'httpx'. No files were found to uninstall.
  Attempting uninstall: supafunc
    Found existing installation: supafunc 0.10.1
    Not uninstalling supafunc at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'supafunc'. No files were found to uninstall.
  Attempting uninstall: storage3
    Found existing installation: storage3 0.12.0
    Not uninstalling storage3 at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'storage3'. No files were found to uninstall.
  Attempting uninstall: postgrest
    Found existing installation: postgrest 1.1.1
    Not uninstalling postgrest at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'postgrest'. No files were found to uninstall.
  Attempting uninstall: gotrue
    Found existing installation: gotrue 2.12.2
    Not uninstalling gotrue at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'gotrue'. No files were found to uninstall.
  Attempting uninstall: boto3
    Found existing installation: boto3 1.26.27
    Not uninstalling boto3 at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'boto3'. No files were found to uninstall.
  Attempting uninstall: supabase
    Found existing installation: supabase 2.16.0
    Not uninstalling supabase at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'supabase'. No files were found to uninstall.

Successfully installed Pillow-10.1.0 anyio-3.7.1 av-15.1.0 boto3-1.34.0 botocore-1.34.162 dnspython-2.7.0 email-validator-2.3.0 fastapi-0.104.1 gotrue-1.3.1 h11-0.14.0 httpcore-0.17.3 httptools-0.6.4 httpx-0.24.1 picamera2-0.3.12 postgrest-0.13.2 python-multipart-0.0.6 pyyaml-6.0.2 realtime-1.0.6 s3transfer-0.9.0 schedule-1.2.0 simplejpeg-1.6.6 starlette-0.27.0 storage3-0.6.1 supabase-2.0.2 supafunc-0.3.3 uvicorn-0.24.0 uvloop-0.21.0 v4l2-python3-0.3.5 watchfiles-1.1.0
[15:18:43] âœ… Core dependencies installed successfully
[15:18:43] ğŸ”§ Fixing numpy version conflicts...
Found existing installation: numpy 1.24.2
Not uninstalling numpy at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/api/venv
Can't uninstall 'numpy'. No files were found to uninstall.
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: numpy<2.0.0,>=1.24.0 in /usr/lib/python3/dist-packages (1.24.2)
WARNING: Error parsing dependencies of send2trash: Expected matching RIGHT_PARENTHESIS for LEFT_PARENTHESIS, after version specifier
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting opencv-python>=4.8.0
  Downloading opencv_python-4.12.0.88-cp37-abi3-manylinux2014_aarch64.manylinux_2_17_aarch64.whl.metadata (19 kB)
Collecting opencv-contrib-python>=4.8.0
  Downloading opencv_contrib_python-4.12.0.88-cp37-abi3-manylinux2014_aarch64.manylinux_2_17_aarch64.whl.metadata (19 kB)
Collecting numpy<2.3.0,>=2 (from opencv-python>=4.8.0)
  Downloading numpy-2.2.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (63 kB)
Downloading opencv_python-4.12.0.88-cp37-abi3-manylinux2014_aarch64.manylinux_2_17_aarch64.whl (45.9 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 45.9/45.9 MB 12.5 MB/s  0:00:03
Downloading numpy-2.2.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (14.3 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 14.3/14.3 MB 13.4 MB/s  0:00:01
Downloading opencv_contrib_python-4.12.0.88-cp37-abi3-manylinux2014_aarch64.manylinux_2_17_aarch64.whl (51.3 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 51.3/51.3 MB 13.6 MB/s  0:00:03
WARNING: Error parsing dependencies of send2trash: Expected matching RIGHT_PARENTHESIS for LEFT_PARENTHESIS, after version specifier
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: numpy, opencv-python, opencv-contrib-python
  Attempting uninstall: numpy
    Found existing installation: numpy 1.24.2
    Not uninstalling numpy at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'numpy'. No files were found to uninstall.
  Attempting uninstall: opencv-python
    Found existing installation: opencv-python 4.11.0.86
    Not uninstalling opencv-python at /home/michomanoly14892/.local/lib/python3.11/site-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'opencv-python'. No files were found to uninstall.

Successfully installed numpy-2.2.6 opencv-contrib-python-4.12.0.88 opencv-python-4.12.0.88
[15:19:03] âœ… Numpy conflicts resolved
[15:19:03] Installing OpenCV stitching dependencies...
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: opencv-python>=4.8.0 in ./venv/lib/python3.11/site-packages (4.12.0.88)
Requirement already satisfied: opencv-contrib-python>=4.8.0 in ./venv/lib/python3.11/site-packages (4.12.0.88)
Requirement already satisfied: numpy<2.3.0,>=2 in ./venv/lib/python3.11/site-packages (from opencv-python>=4.8.0) (2.2.6)
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
[15:19:05] âœ… OpenCV dependencies installed successfully
[15:19:05] ğŸ”§ Ensuring stitch module structure with proper permissions...
[15:19:05] âœ… Stitch module created with proper permissions
[15:19:05] ğŸ”§ Installing typing-extensions with fallback strategies...
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting typing-extensions>=4.12.0
  Downloading typing_extensions-4.15.0-py3-none-any.whl.metadata (3.3 kB)
Downloading typing_extensions-4.15.0-py3-none-any.whl (44 kB)
WARNING: Error parsing dependencies of send2trash: Expected matching RIGHT_PARENTHESIS for LEFT_PARENTHESIS, after version specifier
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: typing-extensions
  Attempting uninstall: typing-extensions
    Found existing installation: typing_extensions 4.14.0
    Not uninstalling typing-extensions at /home/michomanoly14892/.local/lib/python3.11/site-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'typing_extensions'. No files were found to uninstall.
Successfully installed typing-extensions-4.15.0
[15:19:07] âœ… typing-extensions installed successfully with version constraint
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting simplejpeg
  Downloading simplejpeg-1.8.2.tar.gz (5.5 MB)
     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 5.5/5.5 MB 6.6 MB/s  0:00:00
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Collecting numpy>=1.19.3 (from simplejpeg)
  Downloading numpy-2.3.2-cp311-cp311-manylinux_2_27_aarch64.manylinux_2_28_aarch64.whl.metadata (62 kB)
Downloading numpy-2.3.2-cp311-cp311-manylinux_2_27_aarch64.manylinux_2_28_aarch64.whl (14.6 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 14.6/14.6 MB 10.7 MB/s  0:00:01
Building wheels for collected packages: simplejpeg
  Building wheel for simplejpeg (pyproject.toml): started
  Building wheel for simplejpeg (pyproject.toml): still running...
  Building wheel for simplejpeg (pyproject.toml): still running...
  Building wheel for simplejpeg (pyproject.toml): still running...
  Building wheel for simplejpeg (pyproject.toml): finished with status 'done'
  Created wheel for simplejpeg: filename=simplejpeg-1.8.2-cp311-cp311-linux_aarch64.whl size=442433 sha256=642cc722a54713b981aec329ca5a7ea5d2011e3c4bd13c0cab3eb92f6fcea2e2
  Stored in directory: /tmp/pip-ephem-wheel-cache-twna1kfq/wheels/2a/4a/8b/5589c46335d8955dde48df4c3fd1370c51df6df06472dd2103
Successfully built simplejpeg
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: numpy, simplejpeg
  Attempting uninstall: numpy
    Found existing installation: numpy 2.2.6
    Uninstalling numpy-2.2.6:
      Successfully uninstalled numpy-2.2.6
  Attempting uninstall: simplejpeg
    Found existing installation: simplejpeg 1.6.6
    Uninstalling simplejpeg-1.6.6:
      Successfully uninstalled simplejpeg-1.6.6

ERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.
opencv-python 4.12.0.88 requires numpy<2.3.0,>=2; python_version >= "3.9", but you have numpy 2.3.2 which is incompatible.
opencv-contrib-python 4.12.0.88 requires numpy<2.3.0,>=2; python_version >= "3.9", but you have numpy 2.3.2 which is incompatible.
Successfully installed numpy-2.3.2 simplejpeg-1.8.2
[15:23:16] Upgrading PyAV to ensure picamera2 compatibility
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: av>=15.0.0 in ./venv/lib/python3.11/site-packages (15.1.0)
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
[15:23:19] Installing OpenCV stitching dependencies with compatible numpy...
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting numpy==1.24.2
  Downloading numpy-1.24.2-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (5.6 kB)
Downloading numpy-1.24.2-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (14.0 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 14.0/14.0 MB 11.1 MB/s  0:00:01
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: numpy
  Attempting uninstall: numpy
    Found existing installation: numpy 2.3.2
    Uninstalling numpy-2.3.2:
      Successfully uninstalled numpy-2.3.2
ERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.
opencv-python 4.12.0.88 requires numpy<2.3.0,>=2; python_version >= "3.9", but you have numpy 1.24.2 which is incompatible.
opencv-contrib-python 4.12.0.88 requires numpy<2.3.0,>=2; python_version >= "3.9", but you have numpy 1.24.2 which is incompatible.
Successfully installed numpy-1.24.2
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: opencv-python>=4.8.0 in ./venv/lib/python3.11/site-packages (4.12.0.88)
Requirement already satisfied: opencv-contrib-python>=4.8.0 in ./venv/lib/python3.11/site-packages (4.12.0.88)
Collecting numpy<2.3.0,>=2 (from opencv-python>=4.8.0)
  Downloading numpy-2.2.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (63 kB)
Downloading numpy-2.2.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (14.3 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 14.3/14.3 MB 7.4 MB/s  0:00:01
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: numpy
  Attempting uninstall: numpy
    Found existing installation: numpy 1.24.2
    Uninstalling numpy-1.24.2:
      Successfully uninstalled numpy-1.24.2
Successfully installed numpy-2.2.6
[15:23:32] Verifying picamera2 and PyAV compatibility
âœ… picamera2 and PyAV compatibility verified
[15:23:33] âœ… picamera2 and PyAV compatibility verified
[15:23:33] Verifying OpenCV stitching compatibility
âœ… OpenCV stitching compatibility verified
[15:23:33] âœ… OpenCV stitching compatibility verified
[15:23:33] Verifying stitch module import compatibility
âœ… Stitch module import verified
[15:23:33] âœ… Stitch module import verified
[15:23:33] API virtual environment ready
[15:23:33] STEP: 7. Applying fixes
[15:23:33] Creating improved kms.py placeholder for picamera2 compatibility
[15:23:33] Improved kms.py placeholder created
[15:23:33] ğŸ”§ Creating proper stitch module structure...
[15:23:33] âœ… Proper stitch module structure created
[15:23:33] ğŸ”§ Installing stitch module properly...
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Obtaining file:///opt/ezrec-backend/backend/stitch
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Requirement already satisfied: numpy>=1.21.0 in /opt/ezrec-backend/backend/venv/lib/python3.11/site-packages (from ezrec-stitch==0.1.0) (2.2.6)
Requirement already satisfied: opencv-contrib-python>=4.8.0 in /opt/ezrec-backend/backend/venv/lib/python3.11/site-packages (from ezrec-stitch==0.1.0) (4.12.0.88)
Requirement already satisfied: opencv-python>=4.8.0 in /opt/ezrec-backend/backend/venv/lib/python3.11/site-packages (from ezrec-stitch==0.1.0) (4.12.0.88)
WARNING: Error parsing dependencies of send2trash: Expected matching RIGHT_PARENTHESIS for LEFT_PARENTHESIS, after version specifier
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: ezrec-stitch
  DEPRECATION: Legacy editable install of ezrec-stitch==0.1.0 from file:///opt/ezrec-backend/backend/stitch (setup.py develop) is deprecated. pip 25.3 will enforce this behaviour change. A possible replacement is to add a pyproject.toml or enable --use-pep517, and use setuptools >= 64. If the resulting installation is not behaving as expected, try using --config-settings editable_mode=compat. Please consult the setuptools documentation for more information. Discussion can be found at https://github.com/pypa/pip/issues/11457
  Running setup.py develop for ezrec-stitch
Successfully installed ezrec-stitch-0.1.0
[15:23:35] âœ… Stitch module installed successfully
âœ… Stitch module import successful
[15:23:35] âœ… Stitch module import test passed
[15:23:35] ğŸ”§ Fixing Cloudflare tunnel configuration...
[15:23:41] âœ… Cloudflare tunnel service is running
[15:23:43] âœ… DNS route created for api.ezrec.org
[15:23:43] âœ… Cloudflare tunnel configuration fixed
[15:23:43] ğŸ”§ Fixing API endpoint issues...
[15:23:43] âœ… Created backup of api_server.py
[15:23:43] âœ… /share endpoint found (create-share-link functionality)
[15:23:43] âœ… send-share-email endpoint found
[15:23:48] WARNING: âš ï¸ API service restart failed
â— ezrec-api.service - EZREC FastAPI Backend
     Loaded: loaded (/etc/systemd/system/ezrec-api.service; disabled; preset: enabled)
     Active: activating (auto-restart) (Result: exit-code) since Mon 2025-09-01 15:23:44 EDT; 3s ago
    Process: 871629 ExecStart=/opt/ezrec-backend/api/venv/bin/uvicorn api_server:app --host 0.0.0.0 --port 8000 (code=exited, status=1/FAILURE)
   Main PID: 871629 (code=exited, status=1/FAILURE)
        CPU: 1.493s

Sep 01 15:23:44 raspberrypi systemd[1]: ezrec-api.service: Consumed 1.493s CPU time.
michomanoly14892@raspberrypi:~/EZREC-BACKEND-2 $ 

# =============================================================================
# SAbove commands output
# =============================================================================

michomanoly14892@raspberrypi:/opt/ezrec-backend/backend $ cat logs.txt 
/opt/ezrec-backend/backend/venv/lib/python3.11/site-packages/pykms.py:7: UserWarning: Using placeholder kms module â€“ picamera2 may not work correctly
  warnings.warn("Using placeholder kms module â€“ picamera2 may not work correctly")
Python version: 3.11.2 (main, Apr 28 2025, 14:11:48) [GCC 12.2.0]
Python path: ['', '/usr/lib/python311.zip', '/usr/lib/python3.11']...
âœ… picamera2 imported successfully
âœ… OpenCV imported successfully
âœ… Stitch module imported successfully
âœ… Enhanced merge imported successfully

=== 7. CLOUDFLARE TUNNEL TESTING ===
Cloudflare tunnel process check:
michoma+  871589  0.1  0.4 1261440 39296 ?       Ssl  15:23   0:00 /usr/local/bin/cloudflared --config /home/michomanoly14892/.cloudflared/config.yml tunnel run ezrec-tunnel
michoma+  871892  0.0  0.0   6240  1600 pts/0    S+   15:25   0:00 grep --color=auto cloudflared

Tunnel configuration:
tunnel: 741e8a7e-5842-45ce-afdb-995618e5899b
credentials-file: /home/michomanoly14892/.cloudflared/741e8a7e-5842-45ce-afdb-995618e5899b.json

ingress:
  - hostname: api.ezrec.org
    service: http://localhost:8000
    originRequest:
      noTLSVerify: true
  - service: http_status:404

External API test:
{"status":"running","timestamp":"2025-09-01T15:25:27.189353","version":"1.0.0"}
=== 8. FILE SYSTEM INTEGRITY ===
Critical files check:
-rwxr-xr-x 1 michomanoly14892 michomanoly14892 2672 Sep  1 15:12 /opt/ezrec-backend/.env
-rwxr-xr-x 1 michomanoly14892 michomanoly14892 47774 Sep  1 15:12 /opt/ezrec-backend/api/api_server.py
-rwxr-xr-x 1 michomanoly14892 michomanoly14892 80414 Sep  1 15:12 /opt/ezrec-backend/backend/dual_recorder.py
-rwxr-xr-x 1 michomanoly14892 michomanoly14892 38324 Sep  1 15:12 /opt/ezrec-backend/backend/enhanced_merge.py
-rwxr-xr-x 1 michomanoly14892 michomanoly14892 989 Sep  1 15:23 /opt/ezrec-backend/backend/stitch/__init__.py

Virtual environments:
lrwxrwxrwx 1 michomanoly14892 michomanoly14892 16 Sep  1 15:12 /opt/ezrec-backend/backend/venv/bin/python3 -> /usr/bin/python3
lrwxrwxrwx 1 michomanoly14892 michomanoly14892 16 Sep  1 15:18 /opt/ezrec-backend/api/venv/bin/python3 -> /usr/bin/python3

=== 9. CAMERA DETECTION ===
Camera devices:
crw-rw----+ 1 root video 81,  0 Aug 27 18:17 /dev/video0
crw-rw----+ 1 root video 81, 18 Aug 27 18:17 /dev/video1
crw-rw----+ 1 root video 81, 30 Aug 27 18:47 /dev/video10
crw-rw----+ 1 root video 81, 31 Aug 27 18:47 /dev/video11
crw-rw----+ 1 root video 81, 32 Aug 27 18:47 /dev/video12
crw-rw----+ 1 root video 81, 33 Aug 27 18:47 /dev/video13
crw-rw----+ 1 root video 81, 34 Aug 27 18:47 /dev/video14
crw-rw----+ 1 root video 81, 35 Aug 27 18:47 /dev/video15
crw-rw----+ 1 root video 81, 36 Aug 27 18:47 /dev/video16
crw-rw----+ 1 root video 81,  7 Aug 27 18:17 /dev/video19
crw-rw----+ 1 root video 81, 19 Aug 27 18:17 /dev/video2
crw-rw----+ 1 root video 81,  1 Aug 27 18:17 /dev/video20
crw-rw----+ 1 root video 81,  2 Aug 27 18:17 /dev/video21
crw-rw----+ 1 root video 81,  3 Aug 27 18:17 /dev/video22
crw-rw----+ 1 root video 81,  4 Aug 27 18:17 /dev/video23
crw-rw----+ 1 root video 81,  5 Aug 27 18:17 /dev/video24
crw-rw----+ 1 root video 81,  6 Aug 27 18:17 /dev/video25
crw-rw----+ 1 root video 81,  8 Aug 27 18:17 /dev/video26
crw-rw----+ 1 root video 81,  9 Aug 27 18:17 /dev/video27
crw-rw----+ 1 root video 81, 10 Aug 27 18:17 /dev/video28
crw-rw----+ 1 root video 81, 11 Aug 27 18:17 /dev/video29
crw-rw----+ 1 root video 81, 20 Aug 27 18:17 /dev/video3
crw-rw----+ 1 root video 81, 12 Aug 27 18:17 /dev/video30
crw-rw----+ 1 root video 81, 13 Aug 27 18:17 /dev/video31
crw-rw----+ 1 root video 81, 14 Aug 27 18:17 /dev/video32
crw-rw----+ 1 root video 81, 15 Aug 27 18:17 /dev/video33
crw-rw----+ 1 root video 81, 16 Aug 27 18:17 /dev/video34
crw-rw----+ 1 root video 81, 17 Aug 27 18:17 /dev/video35
crw-rw----+ 1 root video 81, 21 Aug 27 18:17 /dev/video4
crw-rw----+ 1 root video 81, 22 Aug 27 18:17 /dev/video5
crw-rw----+ 1 root video 81, 23 Aug 27 18:17 /dev/video6
crw-rw----+ 1 root video 81, 24 Aug 27 18:17 /dev/video7
crw-rw----+ 1 root video 81, 25 Aug 27 18:17 /dev/video8
crw-rw----+ 1 root video 81, 29 Aug 27 18:47 /dev/video9

V4L2 devices:
pispbe (platform:1000880000.pisp_be):
        /dev/video20
        /dev/video21
        /dev/video22
        /dev/video23
        /dev/video24
        /dev/video25
        /dev/video26
        /dev/video27
        /dev/video28
        /dev/video29
        /dev/video30
        /dev/video31
        /dev/video32
        /dev/video33
        /dev/video34
        /dev/video35
        /dev/media3
        /dev/media4

rp1-cfe (platform:1f00110000.csi):
        /dev/video9
        /dev/video10
        /dev/video11
        /dev/video12
        /dev/video13
        /dev/video14
        /dev/video15
        /dev/video16
        /dev/media0

rp1-cfe (platform:1f00128000.csi):
        /dev/video1
        /dev/video2
        /dev/video3
        /dev/video4
        /dev/video5
        /dev/video6
        /dev/video7
        /dev/video8
        /dev/media2

rpi-hevc-dec (platform:rpi-hevc-dec):
        /dev/video19
        /dev/media1

Dummy video device (0x0000) (platform:v4l2loopback-000):
        /dev/video0


=== 10. DATABASE AND STORAGE CONFIG ===
Environment variables check:
SUPABASE_URL=https://iszmsaayxpdrovealrrp.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imlzem1zYWF5eHBkcm92ZWFscnJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgzNjYwMTMsImV4cCI6MjA2Mzk0MjAxM30.5bE_fPBOgkNtEyjCieW328oxyDHWGpf2OTDWssJ_Npk
USER_ID=65aa2e2a-e463-424d-b88f-0724bb0bea3a
CAMERA_ID=d217e751-dfa5-5276-abbb-da5ad6c2626a

=== 11. FFMPEG TESTING ===
FFmpeg version:
ffmpeg version 5.1.7-0+deb12u1+rpt1 Copyright (c) 2000-2025 the FFmpeg developers
built with gcc 12 (Debian 12.2.0-14+deb12u1)
configuration: --prefix=/usr --extra-version=0+deb12u1+rpt1 --toolchain=hardened --incdir=/usr/include/aarch64-linux-gnu --enable-gpl --disable-stripping --disable-mmal --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-libcdio --enable-libcodec2 --enable-libdav1d --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libglslang --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame --enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librabbitmq --enable-librist --enable-librubberband --enable-libshine --enable-libsnappy --enable-libsoxr --enable-libspeex --enable-libsrt --enable-libssh --enable-libsvtav1 --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libwebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzimg --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sand --enable-sdl2 --disable-sndio --enable-libjxl --enable-neon --enable-v4l2-request --enable-libudev --enable-epoxy --libdir=/usr/lib/aarch64-linux-gnu --arch=arm64 --enable-pocketsphinx --enable-librsvg --enable-libdc1394 --enable-libdrm --enable-vout-drm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libx264 --enable-libplacebo --enable-librav1e --enable-shared

FFmpeg codecs:
 DEV.LS h264                 H.264 / AVC / MPEG-4 AVC / MPEG-4 part 10 (decoders: h264 h264_v4l2m2m h264_cuvid ) (encoders: libx264 libx264rgb h264_nvenc h264_omx h264_v4l2m2m h264_vaapi )

=== 12. RECENT LOGS ===
API service logs (last 20 lines):
Sep 01 15:25:15 raspberrypi systemd[1]: ezrec-api.service: Consumed 1.506s CPU time.
Sep 01 15:25:20 raspberrypi systemd[1]: ezrec-api.service: Scheduled restart job, restart counter is at 15.
Sep 01 15:25:20 raspberrypi systemd[1]: Stopped ezrec-api.service - EZREC FastAPI Backend.
Sep 01 15:25:20 raspberrypi systemd[1]: ezrec-api.service: Consumed 1.506s CPU time.
Sep 01 15:25:20 raspberrypi systemd[1]: Started ezrec-api.service - EZREC FastAPI Backend.
Sep 01 15:25:21 raspberrypi uvicorn[871817]: 2025-09-01 15:25:21,629 [INFO] âœ… Supabase client initialized successfully
Sep 01 15:25:21 raspberrypi uvicorn[871817]: 2025-09-01 15:25:21,630 [INFO] âœ… Using camera ID: d217e751-dfa5-5276-abbb-da5ad6c2626a
Sep 01 15:25:21 raspberrypi uvicorn[871817]: INFO:     Started server process [871817]
Sep 01 15:25:21 raspberrypi uvicorn[871817]: INFO:     Waiting for application startup.
Sep 01 15:25:21 raspberrypi uvicorn[871817]: INFO:     Application startup complete.
Sep 01 15:25:21 raspberrypi uvicorn[871817]: ERROR:    [Errno 98] error while attempting to bind on address ('0.0.0.0', 8000): address already in use
Sep 01 15:25:21 raspberrypi uvicorn[871817]: INFO:     Waiting for application shutdown.
Sep 01 15:25:21 raspberrypi uvicorn[871817]: INFO:     Application shutdown complete.
Sep 01 15:25:22 raspberrypi systemd[1]: ezrec-api.service: Main process exited, code=exited, status=1/FAILURE
Sep 01 15:25:22 raspberrypi systemd[1]: ezrec-api.service: Failed with result 'exit-code'.
Sep 01 15:25:22 raspberrypi systemd[1]: ezrec-api.service: Consumed 1.557s CPU time.
Sep 01 15:25:27 raspberrypi systemd[1]: ezrec-api.service: Scheduled restart job, restart counter is at 16.
Sep 01 15:25:27 raspberrypi systemd[1]: Stopped ezrec-api.service - EZREC FastAPI Backend.
Sep 01 15:25:27 raspberrypi systemd[1]: ezrec-api.service: Consumed 1.557s CPU time.
Sep 01 15:25:27 raspberrypi systemd[1]: Started ezrec-api.service - EZREC FastAPI Backend.

Dual recorder logs (last 10 lines):
Aug 31 16:12:49 raspberrypi python3[619976]: WARNING: âš ï¸ Error during camera cleanup: maximum recursion depth exceeded while calling a Python object
Aug 31 16:12:49 raspberrypi python3[619976]: 2025-08-31 16:12:49,696 - INFO - âœ… Force-released /dev/video* devices
Aug 31 16:12:49 raspberrypi python3[619976]: 2025-08-31 16:12:49,704 - INFO - ğŸ›‘ Performing graceful shutdown...
Aug 31 16:12:49 raspberrypi python3[619976]: 2025-08-31 16:12:49,704 - INFO - âœ… Shutdown completed successfully
Aug 31 16:12:49 raspberrypi python3[619976]: ğŸ” Debug: SUPABASE_SERVICE_ROLE_KEY loaded: YES
Aug 31 16:12:49 raspberrypi python3[619976]: ğŸ” Debug: Key starts with: eyJhbGciOiJIUzI1NiIs...
Aug 31 16:12:49 raspberrypi python3[619976]: ğŸ” Debug: Key length: 219
Aug 31 16:12:49 raspberrypi systemd[1]: dual_recorder.service: Deactivated successfully.
Aug 31 16:12:49 raspberrypi systemd[1]: Stopped dual_recorder.service - EZREC Dual Camera Recorder Service.
Aug 31 16:12:49 raspberrypi systemd[1]: dual_recorder.service: Consumed 19.079s CPU time.

Video worker logs (last 10 lines):
Aug 31 16:11:20 raspberrypi python3[619548]: 2025-08-31 16:11:20,482 [INFO] ğŸ“Š Disk usage: 8.1% used, 101.5 GB free
Aug 31 16:11:35 raspberrypi python3[619548]: 2025-08-31 16:11:35,511 [INFO] ğŸ“Š Disk usage: 8.1% used, 101.5 GB free
Aug 31 16:11:50 raspberrypi python3[619548]: 2025-08-31 16:11:50,542 [INFO] ğŸ“Š Disk usage: 8.1% used, 101.5 GB free
Aug 31 16:12:05 raspberrypi python3[619548]: 2025-08-31 16:12:05,588 [INFO] ğŸ“Š Disk usage: 8.1% used, 101.5 GB free
Aug 31 16:12:20 raspberrypi python3[619548]: 2025-08-31 16:12:20,618 [INFO] ğŸ“Š Disk usage: 8.1% used, 101.5 GB free
Aug 31 16:12:35 raspberrypi python3[619548]: 2025-08-31 16:12:35,660 [INFO] ğŸ“Š Disk usage: 8.1% used, 101.5 GB free
Aug 31 16:12:49 raspberrypi systemd[1]: Stopping video_worker.service - EZREC Video Processing Worker Service...
Aug 31 16:12:49 raspberrypi systemd[1]: video_worker.service: Deactivated successfully.
Aug 31 16:12:49 raspberrypi systemd[1]: Stopped video_worker.service - EZREC Video Processing Worker Service.
Aug 31 16:12:49 raspberrypi systemd[1]: video_worker.service: Consumed 2.335s CPU time.

=== 13. SYSTEM RESOURCES ===
CPU usage:
top - 15:25:27 up 4 days, 20:36,  3 users,  load average: 0.48, 0.93, 0.75
Tasks: 224 total,   2 running, 222 sleeping,   0 stopped,   0 zombie
%Cpu(s): 50.0 us,  0.0 sy,  0.0 ni, 50.0 id,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st 
MiB Mem :   8063.2 total,   2945.4 free,   1620.5 used,   3808.1 buff/cache     
MiB Swap:    512.0 total,    512.0 free,      0.0 used.   6442.7 avail Mem 

Network connections:
tcp        0      0 0.0.0.0:8000            0.0.0.0:*               LISTEN      868141/python3      

=== 14. PERMISSIONS CHECK ===
Deployment directory permissions:
total 38456
drwxr-xr-x 19 michomanoly14892 michomanoly14892     4096 Sep  1 15:21 .
drwxr-xr-x  7 root             root                 4096 Aug  1 20:04 ..
drwxr-xr-x  7 michomanoly14892 michomanoly14892     4096 Sep  1 15:25 api
drwxr-xr-x  2 michomanoly14892 michomanoly14892     4096 Sep  1 15:12 assets
drwxr-xr-x  5 michomanoly14892 michomanoly14892     4096 Sep  1 15:25 backend
-rwxr-xr-x  1 michomanoly14892 michomanoly14892     1264 Sep  1 15:12 cleanup_ezrec.sh
-rwxr-xr-x  1 michomanoly14892 michomanoly14892 18886342 Sep  1 15:12 cloudflared.deb
-rwxr-xr-x  1 michomanoly14892 michomanoly14892 18886342 Sep  1 15:12 cloudflared-linux-arm64.deb.1
-rwxr-xr-x  1 michomanoly14892 michomanoly14892     1641 Sep  1 15:12 collect_test_logs.sh

API directory permissions:
total 136
drwxr-xr-x  7 michomanoly14892 michomanoly14892  4096 Sep  1 15:25 .
drwxr-xr-x 19 michomanoly14892 michomanoly14892  4096 Sep  1 15:21 ..
-rwxr-xr-x  1 michomanoly14892 michomanoly14892 47774 Sep  1 15:12 api_server.py
-rwxr-xr-x  1 root             root             47774 Sep  1 15:23 api_server.py.backup
-rwxr-xr-x  1 michomanoly14892 michomanoly14892  3873 Sep  1 15:12 booking_utils.py
drwxr-xr-x  2 michomanoly14892 michomanoly14892  4096 Sep  1 15:12 local_data
-rw-r--r--  1 michomanoly14892 michomanoly14892  2443 Sep  1 15:25 logs.txt
-rwxr-xr-x  1 michomanoly14892 michomanoly14892   717 Sep  1 15:12 monitor.py
drwxr-xr-x  2 michomanoly14892 michomanoly14892  4096 Sep  1 15:23 __pycache__
drwxr-xr-x  4 michomanoly14892 michomanoly14892  4096 Sep  1 15:23 stitch
drwxr-xr-x  2 michomanoly14892 michomanoly14892  4096 Sep  1 15:12 templates
drwxr-xr-x  5 michomanoly14892 michomanoly14892  4096 Sep  1 15:18 venv

Backend directory permissions:
total 400
drwxr-xr-x  5 michomanoly14892 michomanoly14892   4096 Sep  1 15:25 .
drwxr-xr-x 19 michomanoly14892 michomanoly14892   4096 Sep  1 15:21 ..
-rwxr-xr-x  1 michomanoly14892 michomanoly14892  12390 Sep  1 15:12 booking_manager.py
-rwxr-xr-x  1 michomanoly14892 michomanoly14892   9662 Sep  1 15:12 camera_diagnostics.py
-rwxr-xr-x  1 michomanoly14892 michomanoly14892  14381 Sep  1 15:12 camera_health_check.py
-rwxr-xr-x  1 michomanoly14892 michomanoly14892  10483 Sep  1 15:12 camera_streamer.py
-rwxr-xr-x  1 michomanoly14892 michomanoly14892    758 Sep  1 15:12 camera_streamer.service
-rwxr-xr-x  1 michomanoly14892 michomanoly14892  23114 Sep  1 15:12 cleanup_old_data.py
-rwxr-xr-x  1 michomanoly14892 michomanoly14892   3344 Sep  1 15:12 create_assets.py
-rwxr-xr-x  1 michomanoly14892 michomanoly14892  80414 Sep  1 15:12 dual_recorder.py
-rwxr-xr-x  1 michomanoly14892 michomanoly14892  38324 Sep  1 15:12 enhanced_merge.py
-rw-r--r--  1 michomanoly14892 michomanoly14892  13788 Sep  1 15:25 logs.txt
drwxr-xr-x  2 michomanoly14892 michomanoly14892   4096 Sep  1 15:25 __pycache__
-rwxr-xr-x  1 michomanoly14892 michomanoly14892  13727 Sep  1 15:12 recorder.py
-rwxr-xr-x  1 michomanoly14892 michomanoly14892   1271 Sep  1 15:12 refresh_user_media.py
-rwxr-xr-x  1 michomanoly14892 michomanoly14892   2783 Sep  1 15:12 restart_services.sh
-rwxr-xr-x  1 michomanoly14892 michomanoly14892   5322 Sep  1 15:12 status_updater.py
drwxr-xr-x  5 michomanoly14892 michomanoly14892   4096 Sep  1 15:23 stitch
-rwxr-xr-x  1 michomanoly14892 michomanoly14892  21775 Sep  1 15:12 system_status.py
drwxr-xr-x  5 michomanoly14892 michomanoly14892   4096 Sep  1 15:12 venv
-rwxr-xr-x  1 michomanoly14892 michomanoly14892 101667 Sep  1 15:12 video_worker.py

=== 15. FINAL STATUS SUMMARY ===
Service status summary:
âœ… ezrec-api: ACTIVE
âŒ dual_recorder: INACTIVE
âŒ video_worker: INACTIVE
âœ… system_status: ACTIVE
âœ… cloudflared: ACTIVE

=== TEST COMPLETED - Mon  1 Sep 15:25:27 EDT 2025 ===
[1]+  Exit 124                timeout 5 sudo -u michomanoly14892 venv/bin/uvicorn api_server:app --host 0.0.0.0 --port 8001 --log-level error >> logs.txt 2>&1  (wd: /opt/ezrec-backend/api)
(wd now: /opt/ezrec-backend/backend)
michomanoly14892@raspberrypi:/opt/ezrec-backend/backend $ [0;32m[15:29:25] Starting EZREC deployment as user: root[0m
[0;34m[15:29:25] STEP: 1. Stopping old services[0m
[0;32m[15:29:25] Managing dual_recorder: stop[0m
[0;32m[15:29:25] Managing video_worker: stop[0m
[0;32m[15:29:25] Managing ezrec-api: stop[0m
[0;32m[15:29:25] Managing system_status: stop[0m
[0;32m[15:29:25] Managing dual_recorder: disable[0m
[0;32m[15:29:26] Managing video_worker: disable[0m
[0;32m[15:29:26] Managing ezrec-api: disable[0m
[0;32m[15:29:26] Managing system_status: disable[0m
[0;34m[15:29:26] STEP: 2. Cleaning up old installation[0m
[0;32m[15:29:26] ğŸ”’ Backing up existing .env file[0m
[0;32m[15:29:26] âœ… .env file backed up successfully[0m
[0;32m[15:29:26] ğŸ§¹ Cleaning up old installation (preserving .env)...[0m
[0;32m[15:29:26] ğŸ”’ .env file found - will preserve it during cleanup[0m
[0;32m[15:29:27] âœ… Cleaned up old files (preserved .env)[0m
[0;32m[15:29:27] âœ… .env file successfully preserved[0m
[0;34m[15:29:27] STEP: 3. Copying project files[0m
[0;32m[15:29:27] ğŸ”’ Restoring .env file[0m
[0;32m[15:29:27] âœ… .env file restored successfully[0m
[0;32m[15:29:27] ğŸ”§ Ensuring required environment variables are present...[0m
[0;32m[15:29:27] âœ… All required environment variables are present[0m
[0;32m[15:29:27] ğŸ”§ Ensuring API server file is properly deployed...[0m
[0;32m[15:29:27] ğŸ”§ Ensuring API server file is properly deployed...[0m
[0;32m[15:29:27] ğŸ“ Found api_server.py in project api/ directory[0m
[0;32m[15:29:27] ğŸ“‹ Copying api/api_server.py to /opt/ezrec-backend/api/[0m
[0;32m[15:29:27] âœ… API server file deployed successfully[0m
[0;34m[15:29:27] STEP: Installing system dependencies[0m

WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

Hit:1 http://deb.debian.org/debian bookworm InRelease
Hit:2 http://deb.debian.org/debian-security bookworm-security InRelease
Hit:3 http://deb.debian.org/debian bookworm-updates InRelease
Hit:4 http://archive.raspberrypi.com/debian bookworm InRelease
Reading package lists...
Building dependency tree...
Reading state information...
47 packages can be upgraded. Run 'apt list --upgradable' to see them.

WARNING: apt does not have a stable CLI interface. Use with caution in scripts.

Reading package lists...
Building dependency tree...
Reading state information...
build-essential is already the newest version (12.9).
libjpeg-dev is already the newest version (1:2.1.5-2).
ffmpeg is already the newest version (8:5.1.7-0+deb12u1+rpt1).
v4l-utils is already the newest version (1.22.1-5+b2).
imagemagick is already the newest version (8:6.9.11.60+dfsg-1.6+deb12u3).
python3-libcamera is already the newest version (0.5.1+rpt20250722-1).
python3-picamera2 is already the newest version (0.3.30-1).
python3-pip is already the newest version (23.0.1+dfsg-1+rpt1).
python3-venv is already the newest version (3.11.2-1+b1).
python3-dev is already the newest version (3.11.2-1+b1).
libavcodec-extra is already the newest version (8:5.1.7-0+deb12u1+rpt1).
libavdevice-dev is already the newest version (8:5.1.7-0+deb12u1+rpt1).
libavfilter-dev is already the newest version (8:5.1.7-0+deb12u1+rpt1).
libavformat-dev is already the newest version (8:5.1.7-0+deb12u1+rpt1).
libavutil-dev is already the newest version (8:5.1.7-0+deb12u1+rpt1).
libswscale-dev is already the newest version (8:5.1.7-0+deb12u1+rpt1).
libswresample-dev is already the newest version (8:5.1.7-0+deb12u1+rpt1).
v4l2loopback-dkms is already the newest version (0.13.2-1~bpo12+1~rpt1).
python3-opencv is already the newest version (4.6.0+dfsg-12).
libopencv-dev is already the newest version (4.6.0+dfsg-12).
git is already the newest version (1:2.39.5-0+deb12u2).
curl is already the newest version (7.88.1-10+deb12u12).
wget is already the newest version (1.21.3-1+deb12u1).
vim is already the newest version (2:9.0.1378-2+deb12u2).
htop is already the newest version (3.2.2-2).
0 upgraded, 0 newly installed, 0 to remove and 47 not upgraded.
[0;32m[15:29:30] System dependencies installed[0m
[0;34m[15:29:30] STEP: Setting up users and groups[0m
[0;32m[15:29:30] Added users to video group[0m
[0;34m[15:29:30] STEP: Setting up directory structure[0m
[0;32m[15:29:30] Directory structure created[0m
[0;34m[15:29:30] STEP: 6. Setting up virtual environments[0m
[0;32m[15:29:30] Setting up backend virtual environment[0m
[0;32m[15:29:30] ğŸ”„ Creating new virtual environment...[0m
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./venv/lib/python3.11/site-packages (23.0.1)
Collecting pip
  Downloading https://www.piwheels.org/simple/pip/pip-25.2-py3-none-any.whl (1.8 MB)
     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1.8/1.8 MB 2.0 MB/s eta 0:00:00
Installing collected packages: pip
  Attempting uninstall: pip
    Found existing installation: pip 23.0.1
    Uninstalling pip-23.0.1:
      Successfully uninstalled pip-23.0.1
Successfully installed pip-25.2
[0;32m[15:29:39] Installing dependencies with PyPI forcing for problematic packages...[0m
[0;32m[15:29:39] Installing dependencies with optimized conflict resolution...[0m
[0;32m[15:29:39] Installing core dependencies first...[0m
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting fastapi==0.104.1
  Downloading https://www.piwheels.org/simple/fastapi/fastapi-0.104.1-py3-none-any.whl (92 kB)
Collecting uvicorn==0.24.0 (from uvicorn[standard]==0.24.0)
  Downloading https://www.piwheels.org/simple/uvicorn/uvicorn-0.24.0-py3-none-any.whl (59 kB)
Collecting python-multipart==0.0.6
  Downloading https://www.piwheels.org/simple/python-multipart/python_multipart-0.0.6-py3-none-any.whl (45 kB)
Requirement already satisfied: python-dotenv==1.0.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (1.0.0)
Collecting boto3==1.34.0
  Downloading https://archive1.piwheels.org/simple/boto3/boto3-1.34.0-py3-none-any.whl (136 kB)
Collecting supabase==2.0.2
  Downloading https://archive1.piwheels.org/simple/supabase/supabase-2.0.2-py3-none-any.whl (11 kB)
Collecting httpx<0.25.0,>=0.24.0
  Downloading https://www.piwheels.org/simple/httpx/httpx-0.24.1-py3-none-any.whl (75 kB)
Collecting Pillow==10.1.0
  Downloading Pillow-10.1.0-cp311-cp311-manylinux_2_28_aarch64.whl.metadata (9.5 kB)
Collecting simplejpeg==1.6.6
  Downloading simplejpeg-1.6.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.manylinux_2_24_aarch64.whl.metadata (6.8 kB)
Collecting av>=15.0.0
  Downloading av-15.1.0-cp311-cp311-manylinux_2_28_aarch64.whl.metadata (4.6 kB)
Collecting picamera2==0.3.12
  Downloading https://www.piwheels.org/simple/picamera2/picamera2-0.3.12-py3-none-any.whl (62 kB)
Requirement already satisfied: numpy<2.0.0,>=1.24.0 in /usr/lib/python3/dist-packages (1.24.2)
Requirement already satisfied: psutil>=5.9.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (5.9.5)
Collecting schedule==1.2.0
  Downloading https://www.piwheels.org/simple/schedule/schedule-1.2.0-py3-none-any.whl (11 kB)
Collecting email-validator>=2.0.0
  Downloading email_validator-2.3.0-py3-none-any.whl.metadata (26 kB)
Collecting anyio<4.0.0,>=3.7.1 (from fastapi==0.104.1)
  Downloading https://www.piwheels.org/simple/anyio/anyio-3.7.1-py3-none-any.whl (80 kB)
Requirement already satisfied: pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from fastapi==0.104.1) (2.11.7)
Collecting starlette<0.28.0,>=0.27.0 (from fastapi==0.104.1)
  Downloading https://www.piwheels.org/simple/starlette/starlette-0.27.0-py3-none-any.whl (66 kB)
Requirement already satisfied: typing-extensions>=4.8.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from fastapi==0.104.1) (4.14.0)
Requirement already satisfied: click>=7.0 in /usr/lib/python3/dist-packages (from uvicorn==0.24.0->uvicorn[standard]==0.24.0) (8.1.3)
Requirement already satisfied: h11>=0.8 in /usr/local/lib/python3.11/dist-packages (from uvicorn==0.24.0->uvicorn[standard]==0.24.0) (0.16.0)
Collecting botocore<1.35.0,>=1.34.0 (from boto3==1.34.0)
  Downloading https://www.piwheels.org/simple/botocore/botocore-1.34.162-py3-none-any.whl (12.4 MB)
     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 12.4/12.4 MB 4.6 MB/s  0:00:02
Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /usr/lib/python3/dist-packages (from boto3==1.34.0) (1.0.1)
Collecting s3transfer<0.10.0,>=0.9.0 (from boto3==1.34.0)
  Downloading https://archive1.piwheels.org/simple/s3transfer/s3transfer-0.9.0-py3-none-any.whl (82 kB)
Collecting gotrue<2.0.0,>=1.3.0 (from supabase==2.0.2)
  Downloading https://www.piwheels.org/simple/gotrue/gotrue-1.3.1-py3-none-any.whl (42 kB)
Collecting postgrest<0.14.0,>=0.10.8 (from supabase==2.0.2)
  Downloading https://www.piwheels.org/simple/postgrest/postgrest-0.13.2-py3-none-any.whl (19 kB)
Collecting realtime<2.0.0,>=1.0.0 (from supabase==2.0.2)
  Downloading https://www.piwheels.org/simple/realtime/realtime-1.0.6-py3-none-any.whl (9.0 kB)
Collecting storage3<0.7.0,>=0.5.3 (from supabase==2.0.2)
  Downloading https://www.piwheels.org/simple/storage3/storage3-0.6.1-py3-none-any.whl (15 kB)
Collecting supafunc<0.4.0,>=0.3.1 (from supabase==2.0.2)
  Downloading https://www.piwheels.org/simple/supafunc/supafunc-0.3.3-py3-none-any.whl (6.1 kB)
Requirement already satisfied: PiDNG in /usr/lib/python3/dist-packages (from picamera2==0.3.12) (4.0.9)
Requirement already satisfied: piexif in /usr/lib/python3/dist-packages (from picamera2==0.3.12) (1.1.3)
Collecting v4l2-python3 (from picamera2==0.3.12)
  Downloading https://www.piwheels.org/simple/v4l2-python3/v4l2_python3-0.3.5-py3-none-any.whl (22 kB)
Requirement already satisfied: python-prctl in /usr/lib/python3/dist-packages (from picamera2==0.3.12) (1.8.1)
Collecting httptools>=0.5.0 (from uvicorn[standard]==0.24.0)
  Downloading httptools-0.6.4-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (3.6 kB)
Collecting pyyaml>=5.1 (from uvicorn[standard]==0.24.0)
  Downloading PyYAML-6.0.2-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (2.1 kB)
Collecting uvloop!=0.15.0,!=0.15.1,>=0.14.0 (from uvicorn[standard]==0.24.0)
  Downloading uvloop-0.21.0-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (4.9 kB)
Collecting watchfiles>=0.13 (from uvicorn[standard]==0.24.0)
  Downloading watchfiles-1.1.0-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (4.9 kB)
Requirement already satisfied: websockets>=10.4 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from uvicorn[standard]==0.24.0) (12.0)
Requirement already satisfied: certifi in /home/michomanoly14892/.local/lib/python3.11/site-packages (from httpx<0.25.0,>=0.24.0) (2025.6.15)
Collecting httpcore<0.18.0,>=0.15.0 (from httpx<0.25.0,>=0.24.0)
  Downloading https://www.piwheels.org/simple/httpcore/httpcore-0.17.3-py3-none-any.whl (74 kB)
Requirement already satisfied: idna in /home/michomanoly14892/.local/lib/python3.11/site-packages (from httpx<0.25.0,>=0.24.0) (3.10)
Requirement already satisfied: sniffio in /home/michomanoly14892/.local/lib/python3.11/site-packages (from httpx<0.25.0,>=0.24.0) (1.3.1)
Requirement already satisfied: python-dateutil<3.0.0,>=2.1 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from botocore<1.35.0,>=1.34.0->boto3==1.34.0) (2.9.0.post0)
Requirement already satisfied: urllib3!=2.2.0,<3,>=1.25.4 in /usr/lib/python3/dist-packages (from botocore<1.35.0,>=1.34.0->boto3==1.34.0) (1.26.12)
Collecting h11>=0.8 (from uvicorn==0.24.0->uvicorn[standard]==0.24.0)
  Downloading https://www.piwheels.org/simple/h11/h11-0.14.0-py3-none-any.whl (58 kB)
Requirement already satisfied: deprecation<3.0.0,>=2.1.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from postgrest<0.14.0,>=0.10.8->supabase==2.0.2) (2.1.0)
Requirement already satisfied: strenum<0.5.0,>=0.4.9 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from postgrest<0.14.0,>=0.10.8->supabase==2.0.2) (0.4.15)
Requirement already satisfied: packaging in /home/michomanoly14892/.local/lib/python3.11/site-packages (from deprecation<3.0.0,>=2.1.0->postgrest<0.14.0,>=0.10.8->supabase==2.0.2) (25.0)
Requirement already satisfied: annotated-types>=0.6.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4->fastapi==0.104.1) (0.7.0)
Requirement already satisfied: pydantic-core==2.33.2 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4->fastapi==0.104.1) (2.33.2)
Requirement already satisfied: typing-inspection>=0.4.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4->fastapi==0.104.1) (0.4.1)
Requirement already satisfied: six>=1.5 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.35.0,>=1.34.0->boto3==1.34.0) (1.17.0)
Collecting dnspython>=2.0.0 (from email-validator>=2.0.0)
  Downloading https://www.piwheels.org/simple/dnspython/dnspython-2.7.0-py3-none-any.whl (313 kB)
Downloading Pillow-10.1.0-cp311-cp311-manylinux_2_28_aarch64.whl (3.5 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 3.5/3.5 MB 12.6 MB/s  0:00:00
Downloading simplejpeg-1.6.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.manylinux_2_24_aarch64.whl (242 kB)
Downloading av-15.1.0-cp311-cp311-manylinux_2_28_aarch64.whl (38.1 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 38.1/38.1 MB 14.8 MB/s  0:00:02
Downloading email_validator-2.3.0-py3-none-any.whl (35 kB)
Downloading httptools-0.6.4-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (462 kB)
Downloading PyYAML-6.0.2-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (736 kB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 736.8/736.8 kB 15.8 MB/s  0:00:00
Downloading uvloop-0.21.0-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (4.0 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 4.0/4.0 MB 14.2 MB/s  0:00:00
Downloading watchfiles-1.1.0-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (450 kB)
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: v4l2-python3, uvloop, simplejpeg, schedule, pyyaml, python-multipart, Pillow, httptools, h11, dnspython, av, anyio, watchfiles, uvicorn, starlette, realtime, picamera2, httpcore, email-validator, botocore, s3transfer, httpx, fastapi, supafunc, storage3, postgrest, gotrue, boto3, supabase
  Attempting uninstall: simplejpeg
    Found existing installation: simplejpeg 1.8.1
    Not uninstalling simplejpeg at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'simplejpeg'. No files were found to uninstall.
  Attempting uninstall: Pillow
    Found existing installation: Pillow 9.4.0
    Not uninstalling pillow at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'Pillow'. No files were found to uninstall.
  Attempting uninstall: h11
    Found existing installation: h11 0.16.0
    Not uninstalling h11 at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'h11'. No files were found to uninstall.
  Attempting uninstall: av
    Found existing installation: av 12.3.0
    Not uninstalling av at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'av'. No files were found to uninstall.
  Attempting uninstall: anyio
    Found existing installation: anyio 4.9.0
    Not uninstalling anyio at /home/michomanoly14892/.local/lib/python3.11/site-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'anyio'. No files were found to uninstall.
  Attempting uninstall: realtime
    Found existing installation: realtime 2.5.3
    Not uninstalling realtime at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'realtime'. No files were found to uninstall.
  Attempting uninstall: picamera2
    Found existing installation: picamera2 0.3.30
    Not uninstalling picamera2 at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'picamera2'. No files were found to uninstall.
  Attempting uninstall: httpcore
    Found existing installation: httpcore 1.0.9
    Not uninstalling httpcore at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'httpcore'. No files were found to uninstall.
  Attempting uninstall: botocore
    Found existing installation: botocore 1.29.27
    Not uninstalling botocore at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'botocore'. No files were found to uninstall.
  Attempting uninstall: s3transfer
    Found existing installation: s3transfer 0.6.0
    Not uninstalling s3transfer at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 's3transfer'. No files were found to uninstall.
  Attempting uninstall: httpx
    Found existing installation: httpx 0.28.1
    Not uninstalling httpx at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'httpx'. No files were found to uninstall.
  Attempting uninstall: supafunc
    Found existing installation: supafunc 0.10.1
    Not uninstalling supafunc at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'supafunc'. No files were found to uninstall.
  Attempting uninstall: storage3
    Found existing installation: storage3 0.12.0
    Not uninstalling storage3 at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'storage3'. No files were found to uninstall.
  Attempting uninstall: postgrest
    Found existing installation: postgrest 1.1.1
    Not uninstalling postgrest at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'postgrest'. No files were found to uninstall.
  Attempting uninstall: gotrue
    Found existing installation: gotrue 2.12.2
    Not uninstalling gotrue at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'gotrue'. No files were found to uninstall.
  Attempting uninstall: boto3
    Found existing installation: boto3 1.26.27
    Not uninstalling boto3 at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'boto3'. No files were found to uninstall.
  Attempting uninstall: supabase
    Found existing installation: supabase 2.16.0
    Not uninstalling supabase at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'supabase'. No files were found to uninstall.

Successfully installed Pillow-10.1.0 anyio-3.7.1 av-15.1.0 boto3-1.34.0 botocore-1.34.162 dnspython-2.7.0 email-validator-2.3.0 fastapi-0.104.1 gotrue-1.3.1 h11-0.14.0 httpcore-0.17.3 httptools-0.6.4 httpx-0.24.1 picamera2-0.3.12 postgrest-0.13.2 python-multipart-0.0.6 pyyaml-6.0.2 realtime-1.0.6 s3transfer-0.9.0 schedule-1.2.0 simplejpeg-1.6.6 starlette-0.27.0 storage3-0.6.1 supabase-2.0.2 supafunc-0.3.3 uvicorn-0.24.0 uvloop-0.21.0 v4l2-python3-0.3.5 watchfiles-1.1.0
[0;32m[15:30:09] âœ… Core dependencies installed successfully[0m
[0;32m[15:30:09] ğŸ”§ Fixing numpy version conflicts...[0m
Found existing installation: numpy 1.24.2
Not uninstalling numpy at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/backend/venv
Can't uninstall 'numpy'. No files were found to uninstall.
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: numpy<2.0.0,>=1.24.0 in /usr/lib/python3/dist-packages (1.24.2)
WARNING: Error parsing dependencies of send2trash: Expected matching RIGHT_PARENTHESIS for LEFT_PARENTHESIS, after version specifier
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting opencv-python>=4.8.0
  Downloading opencv_python-4.12.0.88-cp37-abi3-manylinux2014_aarch64.manylinux_2_17_aarch64.whl.metadata (19 kB)
Collecting opencv-contrib-python>=4.8.0
  Downloading opencv_contrib_python-4.12.0.88-cp37-abi3-manylinux2014_aarch64.manylinux_2_17_aarch64.whl.metadata (19 kB)
Collecting numpy<2.3.0,>=2 (from opencv-python>=4.8.0)
  Downloading numpy-2.2.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (63 kB)
Downloading opencv_python-4.12.0.88-cp37-abi3-manylinux2014_aarch64.manylinux_2_17_aarch64.whl (45.9 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 45.9/45.9 MB 12.5 MB/s  0:00:03
Downloading numpy-2.2.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (14.3 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 14.3/14.3 MB 14.6 MB/s  0:00:00
Downloading opencv_contrib_python-4.12.0.88-cp37-abi3-manylinux2014_aarch64.manylinux_2_17_aarch64.whl (51.3 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 51.3/51.3 MB 14.0 MB/s  0:00:03
WARNING: Error parsing dependencies of send2trash: Expected matching RIGHT_PARENTHESIS for LEFT_PARENTHESIS, after version specifier
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: numpy, opencv-python, opencv-contrib-python
  Attempting uninstall: numpy
    Found existing installation: numpy 1.24.2
    Not uninstalling numpy at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'numpy'. No files were found to uninstall.
  Attempting uninstall: opencv-python
    Found existing installation: opencv-python 4.11.0.86
    Not uninstalling opencv-python at /home/michomanoly14892/.local/lib/python3.11/site-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'opencv-python'. No files were found to uninstall.

Successfully installed numpy-2.2.6 opencv-contrib-python-4.12.0.88 opencv-python-4.12.0.88
[0;32m[15:30:27] âœ… Numpy conflicts resolved[0m
[0;32m[15:30:27] Installing OpenCV stitching dependencies...[0m
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: opencv-python>=4.8.0 in ./venv/lib/python3.11/site-packages (4.12.0.88)
Requirement already satisfied: opencv-contrib-python>=4.8.0 in ./venv/lib/python3.11/site-packages (4.12.0.88)
Requirement already satisfied: numpy<2.3.0,>=2 in ./venv/lib/python3.11/site-packages (from opencv-python>=4.8.0) (2.2.6)
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
[0;32m[15:30:29] âœ… OpenCV dependencies installed successfully[0m
[0;32m[15:30:29] ğŸ”§ Ensuring stitch module structure with proper permissions...[0m
[0;32m[15:30:29] âœ… Stitch module created with proper permissions[0m
[0;32m[15:30:29] ğŸ”§ Installing typing-extensions with fallback strategies...[0m
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting typing-extensions>=4.12.0
  Downloading typing_extensions-4.15.0-py3-none-any.whl.metadata (3.3 kB)
Downloading typing_extensions-4.15.0-py3-none-any.whl (44 kB)
WARNING: Error parsing dependencies of send2trash: Expected matching RIGHT_PARENTHESIS for LEFT_PARENTHESIS, after version specifier
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: typing-extensions
  Attempting uninstall: typing-extensions
    Found existing installation: typing_extensions 4.14.0
    Not uninstalling typing-extensions at /home/michomanoly14892/.local/lib/python3.11/site-packages, outside environment /opt/ezrec-backend/backend/venv
    Can't uninstall 'typing_extensions'. No files were found to uninstall.
Successfully installed typing-extensions-4.15.0
[0;32m[15:30:32] âœ… typing-extensions installed successfully with version constraint[0m
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting simplejpeg
  Downloading simplejpeg-1.8.2.tar.gz (5.5 MB)
     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 5.5/5.5 MB 13.9 MB/s  0:00:00
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Collecting numpy>=1.19.3 (from simplejpeg)
  Downloading numpy-2.3.2-cp311-cp311-manylinux_2_27_aarch64.manylinux_2_28_aarch64.whl.metadata (62 kB)
Downloading numpy-2.3.2-cp311-cp311-manylinux_2_27_aarch64.manylinux_2_28_aarch64.whl (14.6 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 14.6/14.6 MB 14.1 MB/s  0:00:01
Building wheels for collected packages: simplejpeg
  Building wheel for simplejpeg (pyproject.toml): started
  Building wheel for simplejpeg (pyproject.toml): still running...
  Building wheel for simplejpeg (pyproject.toml): still running...
  Building wheel for simplejpeg (pyproject.toml): still running...
  Building wheel for simplejpeg (pyproject.toml): finished with status 'done'
  Created wheel for simplejpeg: filename=simplejpeg-1.8.2-cp311-cp311-linux_aarch64.whl size=442433 sha256=595905d105957f77726b56c998c1cf74641ccea621ffbe1f8f5de5c9bb566c01
  Stored in directory: /tmp/pip-ephem-wheel-cache-i93m1cau/wheels/2a/4a/8b/5589c46335d8955dde48df4c3fd1370c51df6df06472dd2103
Successfully built simplejpeg
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: numpy, simplejpeg
  Attempting uninstall: numpy
    Found existing installation: numpy 2.2.6
    Uninstalling numpy-2.2.6:
      Successfully uninstalled numpy-2.2.6
  Attempting uninstall: simplejpeg
    Found existing installation: simplejpeg 1.6.6
    Uninstalling simplejpeg-1.6.6:
      Successfully uninstalled simplejpeg-1.6.6

ERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.
opencv-python 4.12.0.88 requires numpy<2.3.0,>=2; python_version >= "3.9", but you have numpy 2.3.2 which is incompatible.
opencv-contrib-python 4.12.0.88 requires numpy<2.3.0,>=2; python_version >= "3.9", but you have numpy 2.3.2 which is incompatible.
Successfully installed numpy-2.3.2 simplejpeg-1.8.2
[0;32m[15:34:39] Upgrading PyAV to ensure picamera2 compatibility[0m
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: av>=15.0.0 in ./venv/lib/python3.11/site-packages (15.1.0)
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
[0;32m[15:34:41] Installing OpenCV stitching dependencies with compatible numpy...[0m
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting numpy==1.24.2
  Downloading numpy-1.24.2-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (5.6 kB)
Downloading numpy-1.24.2-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (14.0 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 14.0/14.0 MB 11.5 MB/s  0:00:01
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: numpy
  Attempting uninstall: numpy
    Found existing installation: numpy 2.3.2
    Uninstalling numpy-2.3.2:
      Successfully uninstalled numpy-2.3.2
ERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.
opencv-python 4.12.0.88 requires numpy<2.3.0,>=2; python_version >= "3.9", but you have numpy 1.24.2 which is incompatible.
opencv-contrib-python 4.12.0.88 requires numpy<2.3.0,>=2; python_version >= "3.9", but you have numpy 1.24.2 which is incompatible.
Successfully installed numpy-1.24.2
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: opencv-python>=4.8.0 in ./venv/lib/python3.11/site-packages (4.12.0.88)
Requirement already satisfied: opencv-contrib-python>=4.8.0 in ./venv/lib/python3.11/site-packages (4.12.0.88)
Collecting numpy<2.3.0,>=2 (from opencv-python>=4.8.0)
  Downloading numpy-2.2.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (63 kB)
Downloading numpy-2.2.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (14.3 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 14.3/14.3 MB 11.6 MB/s  0:00:01
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: numpy
  Attempting uninstall: numpy
    Found existing installation: numpy 1.24.2
    Uninstalling numpy-1.24.2:
      Successfully uninstalled numpy-1.24.2
Successfully installed numpy-2.2.6
[0;32m[15:34:55] Verifying picamera2 and PyAV compatibility[0m
âœ… picamera2 and PyAV compatibility verified
[0;32m[15:34:55] âœ… picamera2 and PyAV compatibility verified[0m
[0;32m[15:34:55] Verifying OpenCV stitching compatibility[0m
âœ… OpenCV stitching compatibility verified
[0;32m[15:34:55] âœ… OpenCV stitching compatibility verified[0m
[0;32m[15:34:55] Verifying stitch module import compatibility[0m
[1;33m[15:34:55] WARNING: âš ï¸ Stitch module import check failed[0m
[0;32m[15:34:55] backend virtual environment ready[0m
[0;32m[15:34:55] Setting up API virtual environment[0m
[0;32m[15:34:55] ğŸ”„ Creating new virtual environment...[0m
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: pip in ./venv/lib/python3.11/site-packages (23.0.1)
Collecting pip
  Downloading https://www.piwheels.org/simple/pip/pip-25.2-py3-none-any.whl (1.8 MB)
     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 1.8/1.8 MB 2.1 MB/s eta 0:00:00
Installing collected packages: pip
  Attempting uninstall: pip
    Found existing installation: pip 23.0.1
    Uninstalling pip-23.0.1:
      Successfully uninstalled pip-23.0.1
Successfully installed pip-25.2
[0;32m[15:35:03] Installing dependencies with PyPI forcing for problematic packages...[0m
[0;32m[15:35:03] Installing dependencies with optimized conflict resolution...[0m
[0;32m[15:35:03] Installing core dependencies first...[0m
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting fastapi==0.104.1
  Downloading https://www.piwheels.org/simple/fastapi/fastapi-0.104.1-py3-none-any.whl (92 kB)
Collecting uvicorn==0.24.0 (from uvicorn[standard]==0.24.0)
  Downloading https://www.piwheels.org/simple/uvicorn/uvicorn-0.24.0-py3-none-any.whl (59 kB)
Collecting python-multipart==0.0.6
  Downloading https://www.piwheels.org/simple/python-multipart/python_multipart-0.0.6-py3-none-any.whl (45 kB)
Requirement already satisfied: python-dotenv==1.0.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (1.0.0)
Collecting boto3==1.34.0
  Downloading https://archive1.piwheels.org/simple/boto3/boto3-1.34.0-py3-none-any.whl (136 kB)
Collecting supabase==2.0.2
  Downloading https://archive1.piwheels.org/simple/supabase/supabase-2.0.2-py3-none-any.whl (11 kB)
Collecting httpx<0.25.0,>=0.24.0
  Downloading https://www.piwheels.org/simple/httpx/httpx-0.24.1-py3-none-any.whl (75 kB)
Collecting Pillow==10.1.0
  Downloading Pillow-10.1.0-cp311-cp311-manylinux_2_28_aarch64.whl.metadata (9.5 kB)
Collecting simplejpeg==1.6.6
  Downloading simplejpeg-1.6.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.manylinux_2_24_aarch64.whl.metadata (6.8 kB)
Collecting av>=15.0.0
  Downloading av-15.1.0-cp311-cp311-manylinux_2_28_aarch64.whl.metadata (4.6 kB)
Collecting picamera2==0.3.12
  Downloading https://www.piwheels.org/simple/picamera2/picamera2-0.3.12-py3-none-any.whl (62 kB)
Requirement already satisfied: numpy<2.0.0,>=1.24.0 in /usr/lib/python3/dist-packages (1.24.2)
Requirement already satisfied: psutil>=5.9.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (5.9.5)
Collecting schedule==1.2.0
  Downloading https://www.piwheels.org/simple/schedule/schedule-1.2.0-py3-none-any.whl (11 kB)
Collecting email-validator>=2.0.0
  Downloading email_validator-2.3.0-py3-none-any.whl.metadata (26 kB)
Collecting anyio<4.0.0,>=3.7.1 (from fastapi==0.104.1)
  Downloading https://www.piwheels.org/simple/anyio/anyio-3.7.1-py3-none-any.whl (80 kB)
Requirement already satisfied: pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from fastapi==0.104.1) (2.11.7)
Collecting starlette<0.28.0,>=0.27.0 (from fastapi==0.104.1)
  Downloading https://www.piwheels.org/simple/starlette/starlette-0.27.0-py3-none-any.whl (66 kB)
Requirement already satisfied: typing-extensions>=4.8.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from fastapi==0.104.1) (4.14.0)
Requirement already satisfied: click>=7.0 in /usr/lib/python3/dist-packages (from uvicorn==0.24.0->uvicorn[standard]==0.24.0) (8.1.3)
Requirement already satisfied: h11>=0.8 in /usr/local/lib/python3.11/dist-packages (from uvicorn==0.24.0->uvicorn[standard]==0.24.0) (0.16.0)
Collecting botocore<1.35.0,>=1.34.0 (from boto3==1.34.0)
  Downloading https://www.piwheels.org/simple/botocore/botocore-1.34.162-py3-none-any.whl (12.4 MB)
     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 12.4/12.4 MB 5.0 MB/s  0:00:02
Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /usr/lib/python3/dist-packages (from boto3==1.34.0) (1.0.1)
Collecting s3transfer<0.10.0,>=0.9.0 (from boto3==1.34.0)
  Downloading https://archive1.piwheels.org/simple/s3transfer/s3transfer-0.9.0-py3-none-any.whl (82 kB)
Collecting gotrue<2.0.0,>=1.3.0 (from supabase==2.0.2)
  Downloading https://www.piwheels.org/simple/gotrue/gotrue-1.3.1-py3-none-any.whl (42 kB)
Collecting postgrest<0.14.0,>=0.10.8 (from supabase==2.0.2)
  Downloading https://www.piwheels.org/simple/postgrest/postgrest-0.13.2-py3-none-any.whl (19 kB)
Collecting realtime<2.0.0,>=1.0.0 (from supabase==2.0.2)
  Downloading https://www.piwheels.org/simple/realtime/realtime-1.0.6-py3-none-any.whl (9.0 kB)
Collecting storage3<0.7.0,>=0.5.3 (from supabase==2.0.2)
  Downloading https://www.piwheels.org/simple/storage3/storage3-0.6.1-py3-none-any.whl (15 kB)
Collecting supafunc<0.4.0,>=0.3.1 (from supabase==2.0.2)
  Downloading https://www.piwheels.org/simple/supafunc/supafunc-0.3.3-py3-none-any.whl (6.1 kB)
Requirement already satisfied: PiDNG in /usr/lib/python3/dist-packages (from picamera2==0.3.12) (4.0.9)
Requirement already satisfied: piexif in /usr/lib/python3/dist-packages (from picamera2==0.3.12) (1.1.3)
Collecting v4l2-python3 (from picamera2==0.3.12)
  Downloading https://www.piwheels.org/simple/v4l2-python3/v4l2_python3-0.3.5-py3-none-any.whl (22 kB)
Requirement already satisfied: python-prctl in /usr/lib/python3/dist-packages (from picamera2==0.3.12) (1.8.1)
Collecting httptools>=0.5.0 (from uvicorn[standard]==0.24.0)
  Downloading httptools-0.6.4-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (3.6 kB)
Collecting pyyaml>=5.1 (from uvicorn[standard]==0.24.0)
  Downloading PyYAML-6.0.2-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (2.1 kB)
Collecting uvloop!=0.15.0,!=0.15.1,>=0.14.0 (from uvicorn[standard]==0.24.0)
  Downloading uvloop-0.21.0-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (4.9 kB)
Collecting watchfiles>=0.13 (from uvicorn[standard]==0.24.0)
  Downloading watchfiles-1.1.0-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (4.9 kB)
Requirement already satisfied: websockets>=10.4 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from uvicorn[standard]==0.24.0) (12.0)
Requirement already satisfied: certifi in /home/michomanoly14892/.local/lib/python3.11/site-packages (from httpx<0.25.0,>=0.24.0) (2025.6.15)
Collecting httpcore<0.18.0,>=0.15.0 (from httpx<0.25.0,>=0.24.0)
  Downloading https://www.piwheels.org/simple/httpcore/httpcore-0.17.3-py3-none-any.whl (74 kB)
Requirement already satisfied: idna in /home/michomanoly14892/.local/lib/python3.11/site-packages (from httpx<0.25.0,>=0.24.0) (3.10)
Requirement already satisfied: sniffio in /home/michomanoly14892/.local/lib/python3.11/site-packages (from httpx<0.25.0,>=0.24.0) (1.3.1)
Requirement already satisfied: python-dateutil<3.0.0,>=2.1 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from botocore<1.35.0,>=1.34.0->boto3==1.34.0) (2.9.0.post0)
Requirement already satisfied: urllib3!=2.2.0,<3,>=1.25.4 in /usr/lib/python3/dist-packages (from botocore<1.35.0,>=1.34.0->boto3==1.34.0) (1.26.12)
Collecting h11>=0.8 (from uvicorn==0.24.0->uvicorn[standard]==0.24.0)
  Downloading https://www.piwheels.org/simple/h11/h11-0.14.0-py3-none-any.whl (58 kB)
Requirement already satisfied: deprecation<3.0.0,>=2.1.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from postgrest<0.14.0,>=0.10.8->supabase==2.0.2) (2.1.0)
Requirement already satisfied: strenum<0.5.0,>=0.4.9 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from postgrest<0.14.0,>=0.10.8->supabase==2.0.2) (0.4.15)
Requirement already satisfied: packaging in /home/michomanoly14892/.local/lib/python3.11/site-packages (from deprecation<3.0.0,>=2.1.0->postgrest<0.14.0,>=0.10.8->supabase==2.0.2) (25.0)
Requirement already satisfied: annotated-types>=0.6.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4->fastapi==0.104.1) (0.7.0)
Requirement already satisfied: pydantic-core==2.33.2 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4->fastapi==0.104.1) (2.33.2)
Requirement already satisfied: typing-inspection>=0.4.0 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from pydantic!=1.8,!=1.8.1,!=2.0.0,!=2.0.1,!=2.1.0,<3.0.0,>=1.7.4->fastapi==0.104.1) (0.4.1)
Requirement already satisfied: six>=1.5 in /home/michomanoly14892/.local/lib/python3.11/site-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.35.0,>=1.34.0->boto3==1.34.0) (1.17.0)
Collecting dnspython>=2.0.0 (from email-validator>=2.0.0)
  Downloading https://www.piwheels.org/simple/dnspython/dnspython-2.7.0-py3-none-any.whl (313 kB)
Downloading Pillow-10.1.0-cp311-cp311-manylinux_2_28_aarch64.whl (3.5 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 3.5/3.5 MB 4.1 MB/s  0:00:00
Downloading simplejpeg-1.6.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.manylinux_2_24_aarch64.whl (242 kB)
Downloading av-15.1.0-cp311-cp311-manylinux_2_28_aarch64.whl (38.1 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 38.1/38.1 MB 12.0 MB/s  0:00:03
Downloading email_validator-2.3.0-py3-none-any.whl (35 kB)
Downloading httptools-0.6.4-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (462 kB)
Downloading PyYAML-6.0.2-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (736 kB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 736.8/736.8 kB 23.4 MB/s  0:00:00
Downloading uvloop-0.21.0-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (4.0 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 4.0/4.0 MB 15.3 MB/s  0:00:00
Downloading watchfiles-1.1.0-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (450 kB)
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: v4l2-python3, uvloop, simplejpeg, schedule, pyyaml, python-multipart, Pillow, httptools, h11, dnspython, av, anyio, watchfiles, uvicorn, starlette, realtime, picamera2, httpcore, email-validator, botocore, s3transfer, httpx, fastapi, supafunc, storage3, postgrest, gotrue, boto3, supabase
  Attempting uninstall: simplejpeg
    Found existing installation: simplejpeg 1.8.1
    Not uninstalling simplejpeg at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'simplejpeg'. No files were found to uninstall.
  Attempting uninstall: Pillow
    Found existing installation: Pillow 9.4.0
    Not uninstalling pillow at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'Pillow'. No files were found to uninstall.
  Attempting uninstall: h11
    Found existing installation: h11 0.16.0
    Not uninstalling h11 at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'h11'. No files were found to uninstall.
  Attempting uninstall: av
    Found existing installation: av 12.3.0
    Not uninstalling av at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'av'. No files were found to uninstall.
  Attempting uninstall: anyio
    Found existing installation: anyio 4.9.0
    Not uninstalling anyio at /home/michomanoly14892/.local/lib/python3.11/site-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'anyio'. No files were found to uninstall.
  Attempting uninstall: realtime
    Found existing installation: realtime 2.5.3
    Not uninstalling realtime at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'realtime'. No files were found to uninstall.
  Attempting uninstall: picamera2
    Found existing installation: picamera2 0.3.30
    Not uninstalling picamera2 at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'picamera2'. No files were found to uninstall.
  Attempting uninstall: httpcore
    Found existing installation: httpcore 1.0.9
    Not uninstalling httpcore at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'httpcore'. No files were found to uninstall.
  Attempting uninstall: botocore
    Found existing installation: botocore 1.29.27
    Not uninstalling botocore at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'botocore'. No files were found to uninstall.
  Attempting uninstall: s3transfer
    Found existing installation: s3transfer 0.6.0
    Not uninstalling s3transfer at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 's3transfer'. No files were found to uninstall.
  Attempting uninstall: httpx
    Found existing installation: httpx 0.28.1
    Not uninstalling httpx at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'httpx'. No files were found to uninstall.
  Attempting uninstall: supafunc
    Found existing installation: supafunc 0.10.1
    Not uninstalling supafunc at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'supafunc'. No files were found to uninstall.
  Attempting uninstall: storage3
    Found existing installation: storage3 0.12.0
    Not uninstalling storage3 at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'storage3'. No files were found to uninstall.
  Attempting uninstall: postgrest
    Found existing installation: postgrest 1.1.1
    Not uninstalling postgrest at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'postgrest'. No files were found to uninstall.
  Attempting uninstall: gotrue
    Found existing installation: gotrue 2.12.2
    Not uninstalling gotrue at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'gotrue'. No files were found to uninstall.
  Attempting uninstall: boto3
    Found existing installation: boto3 1.26.27
    Not uninstalling boto3 at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'boto3'. No files were found to uninstall.
  Attempting uninstall: supabase
    Found existing installation: supabase 2.16.0
    Not uninstalling supabase at /usr/local/lib/python3.11/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'supabase'. No files were found to uninstall.

Successfully installed Pillow-10.1.0 anyio-3.7.1 av-15.1.0 boto3-1.34.0 botocore-1.34.162 dnspython-2.7.0 email-validator-2.3.0 fastapi-0.104.1 gotrue-1.3.1 h11-0.14.0 httpcore-0.17.3 httptools-0.6.4 httpx-0.24.1 picamera2-0.3.12 postgrest-0.13.2 python-multipart-0.0.6 pyyaml-6.0.2 realtime-1.0.6 s3transfer-0.9.0 schedule-1.2.0 simplejpeg-1.6.6 starlette-0.27.0 storage3-0.6.1 supabase-2.0.2 supafunc-0.3.3 uvicorn-0.24.0 uvloop-0.21.0 v4l2-python3-0.3.5 watchfiles-1.1.0
[0;32m[15:35:31] âœ… Core dependencies installed successfully[0m
[0;32m[15:35:31] ğŸ”§ Fixing numpy version conflicts...[0m
Found existing installation: numpy 1.24.2
Not uninstalling numpy at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/api/venv
Can't uninstall 'numpy'. No files were found to uninstall.
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: numpy<2.0.0,>=1.24.0 in /usr/lib/python3/dist-packages (1.24.2)
WARNING: Error parsing dependencies of send2trash: Expected matching RIGHT_PARENTHESIS for LEFT_PARENTHESIS, after version specifier
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting opencv-python>=4.8.0
  Downloading opencv_python-4.12.0.88-cp37-abi3-manylinux2014_aarch64.manylinux_2_17_aarch64.whl.metadata (19 kB)
Collecting opencv-contrib-python>=4.8.0
  Downloading opencv_contrib_python-4.12.0.88-cp37-abi3-manylinux2014_aarch64.manylinux_2_17_aarch64.whl.metadata (19 kB)
Collecting numpy<2.3.0,>=2 (from opencv-python>=4.8.0)
  Downloading numpy-2.2.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (63 kB)
Downloading opencv_python-4.12.0.88-cp37-abi3-manylinux2014_aarch64.manylinux_2_17_aarch64.whl (45.9 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 45.9/45.9 MB 14.3 MB/s  0:00:03
Downloading numpy-2.2.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (14.3 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 14.3/14.3 MB 14.2 MB/s  0:00:01
Downloading opencv_contrib_python-4.12.0.88-cp37-abi3-manylinux2014_aarch64.manylinux_2_17_aarch64.whl (51.3 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 51.3/51.3 MB 14.4 MB/s  0:00:03
WARNING: Error parsing dependencies of send2trash: Expected matching RIGHT_PARENTHESIS for LEFT_PARENTHESIS, after version specifier
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: numpy, opencv-python, opencv-contrib-python
  Attempting uninstall: numpy
    Found existing installation: numpy 1.24.2
    Not uninstalling numpy at /usr/lib/python3/dist-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'numpy'. No files were found to uninstall.
  Attempting uninstall: opencv-python
    Found existing installation: opencv-python 4.11.0.86
    Not uninstalling opencv-python at /home/michomanoly14892/.local/lib/python3.11/site-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'opencv-python'. No files were found to uninstall.

Successfully installed numpy-2.2.6 opencv-contrib-python-4.12.0.88 opencv-python-4.12.0.88
[0;32m[15:35:51] âœ… Numpy conflicts resolved[0m
[0;32m[15:35:51] Installing OpenCV stitching dependencies...[0m
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: opencv-python>=4.8.0 in ./venv/lib/python3.11/site-packages (4.12.0.88)
Requirement already satisfied: opencv-contrib-python>=4.8.0 in ./venv/lib/python3.11/site-packages (4.12.0.88)
Requirement already satisfied: numpy<2.3.0,>=2 in ./venv/lib/python3.11/site-packages (from opencv-python>=4.8.0) (2.2.6)
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
[0;32m[15:35:52] âœ… OpenCV dependencies installed successfully[0m
[0;32m[15:35:52] ğŸ”§ Ensuring stitch module structure with proper permissions...[0m
[0;32m[15:35:52] âœ… Stitch module created with proper permissions[0m
[0;32m[15:35:52] ğŸ”§ Installing typing-extensions with fallback strategies...[0m
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting typing-extensions>=4.12.0
  Downloading typing_extensions-4.15.0-py3-none-any.whl.metadata (3.3 kB)
Downloading typing_extensions-4.15.0-py3-none-any.whl (44 kB)
WARNING: Error parsing dependencies of send2trash: Expected matching RIGHT_PARENTHESIS for LEFT_PARENTHESIS, after version specifier
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: typing-extensions
  Attempting uninstall: typing-extensions
    Found existing installation: typing_extensions 4.14.0
    Not uninstalling typing-extensions at /home/michomanoly14892/.local/lib/python3.11/site-packages, outside environment /opt/ezrec-backend/api/venv
    Can't uninstall 'typing_extensions'. No files were found to uninstall.
Successfully installed typing-extensions-4.15.0
[0;32m[15:35:55] âœ… typing-extensions installed successfully with version constraint[0m
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting simplejpeg
  Downloading simplejpeg-1.8.2.tar.gz (5.5 MB)
     â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 5.5/5.5 MB 6.9 MB/s  0:00:00
  Installing build dependencies: started
  Installing build dependencies: finished with status 'done'
  Getting requirements to build wheel: started
  Getting requirements to build wheel: finished with status 'done'
  Preparing metadata (pyproject.toml): started
  Preparing metadata (pyproject.toml): finished with status 'done'
Collecting numpy>=1.19.3 (from simplejpeg)
  Downloading numpy-2.3.2-cp311-cp311-manylinux_2_27_aarch64.manylinux_2_28_aarch64.whl.metadata (62 kB)
Downloading numpy-2.3.2-cp311-cp311-manylinux_2_27_aarch64.manylinux_2_28_aarch64.whl (14.6 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 14.6/14.6 MB 11.4 MB/s  0:00:01
Building wheels for collected packages: simplejpeg
  Building wheel for simplejpeg (pyproject.toml): started
  Building wheel for simplejpeg (pyproject.toml): still running...
  Building wheel for simplejpeg (pyproject.toml): still running...
  Building wheel for simplejpeg (pyproject.toml): still running...
  Building wheel for simplejpeg (pyproject.toml): finished with status 'done'
  Created wheel for simplejpeg: filename=simplejpeg-1.8.2-cp311-cp311-linux_aarch64.whl size=442430 sha256=da65fef3b064df8e113ac001df267faf9b4d622c485b5965535f2e5471ca8f4a
  Stored in directory: /tmp/pip-ephem-wheel-cache-3aask_8k/wheels/2a/4a/8b/5589c46335d8955dde48df4c3fd1370c51df6df06472dd2103
Successfully built simplejpeg
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: numpy, simplejpeg
  Attempting uninstall: numpy
    Found existing installation: numpy 2.2.6
    Uninstalling numpy-2.2.6:
      Successfully uninstalled numpy-2.2.6
  Attempting uninstall: simplejpeg
    Found existing installation: simplejpeg 1.6.6
    Uninstalling simplejpeg-1.6.6:
      Successfully uninstalled simplejpeg-1.6.6

ERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.
opencv-python 4.12.0.88 requires numpy<2.3.0,>=2; python_version >= "3.9", but you have numpy 2.3.2 which is incompatible.
opencv-contrib-python 4.12.0.88 requires numpy<2.3.0,>=2; python_version >= "3.9", but you have numpy 2.3.2 which is incompatible.
Successfully installed numpy-2.3.2 simplejpeg-1.8.2
[0;32m[15:40:00] Upgrading PyAV to ensure picamera2 compatibility[0m
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: av>=15.0.0 in ./venv/lib/python3.11/site-packages (15.1.0)
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
[0;32m[15:40:03] Installing OpenCV stitching dependencies with compatible numpy...[0m
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Collecting numpy==1.24.2
  Downloading numpy-1.24.2-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (5.6 kB)
Downloading numpy-1.24.2-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (14.0 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 14.0/14.0 MB 8.8 MB/s  0:00:01
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: numpy
  Attempting uninstall: numpy
    Found existing installation: numpy 2.3.2
    Uninstalling numpy-2.3.2:
      Successfully uninstalled numpy-2.3.2
ERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.
opencv-python 4.12.0.88 requires numpy<2.3.0,>=2; python_version >= "3.9", but you have numpy 1.24.2 which is incompatible.
opencv-contrib-python 4.12.0.88 requires numpy<2.3.0,>=2; python_version >= "3.9", but you have numpy 1.24.2 which is incompatible.
Successfully installed numpy-1.24.2
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: opencv-python>=4.8.0 in ./venv/lib/python3.11/site-packages (4.12.0.88)
Requirement already satisfied: opencv-contrib-python>=4.8.0 in ./venv/lib/python3.11/site-packages (4.12.0.88)
Collecting numpy<2.3.0,>=2 (from opencv-python>=4.8.0)
  Downloading numpy-2.2.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl.metadata (63 kB)
Downloading numpy-2.2.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl (14.3 MB)
   â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” 14.3/14.3 MB 7.3 MB/s  0:00:02
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: numpy
  Attempting uninstall: numpy
    Found existing installation: numpy 1.24.2
    Uninstalling numpy-1.24.2:
      Successfully uninstalled numpy-1.24.2
Successfully installed numpy-2.2.6
[0;32m[15:40:18] Verifying picamera2 and PyAV compatibility[0m
âœ… picamera2 and PyAV compatibility verified
[0;32m[15:40:18] âœ… picamera2 and PyAV compatibility verified[0m
[0;32m[15:40:18] Verifying OpenCV stitching compatibility[0m
âœ… OpenCV stitching compatibility verified
[0;32m[15:40:18] âœ… OpenCV stitching compatibility verified[0m
[0;32m[15:40:18] Verifying stitch module import compatibility[0m
âœ… Stitch module import verified
[0;32m[15:40:18] âœ… Stitch module import verified[0m
[0;32m[15:40:18] API virtual environment ready[0m
[0;34m[15:40:18] STEP: 7. Applying fixes[0m
[0;32m[15:40:18] Creating improved kms.py placeholder for picamera2 compatibility[0m
[0;32m[15:40:18] Improved kms.py placeholder created[0m
[0;32m[15:40:18] ğŸ”§ Creating proper stitch module structure...[0m
[0;32m[15:40:18] âœ… Proper stitch module structure created[0m
[0;32m[15:40:18] ğŸ”§ Installing stitch module properly...[0m
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Obtaining file:///opt/ezrec-backend/backend/stitch
  Preparing metadata (setup.py): started
  Preparing metadata (setup.py): finished with status 'done'
Requirement already satisfied: numpy>=1.21.0 in /opt/ezrec-backend/backend/venv/lib/python3.11/site-packages (from ezrec-stitch==0.1.0) (2.2.6)
Requirement already satisfied: opencv-contrib-python>=4.8.0 in /opt/ezrec-backend/backend/venv/lib/python3.11/site-packages (from ezrec-stitch==0.1.0) (4.12.0.88)
Requirement already satisfied: opencv-python>=4.8.0 in /opt/ezrec-backend/backend/venv/lib/python3.11/site-packages (from ezrec-stitch==0.1.0) (4.12.0.88)
WARNING: Error parsing dependencies of send2trash: Expected matching RIGHT_PARENTHESIS for LEFT_PARENTHESIS, after version specifier
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
Installing collected packages: ezrec-stitch
  DEPRECATION: Legacy editable install of ezrec-stitch==0.1.0 from file:///opt/ezrec-backend/backend/stitch (setup.py develop) is deprecated. pip 25.3 will enforce this behaviour change. A possible replacement is to add a pyproject.toml or enable --use-pep517, and use setuptools >= 64. If the resulting installation is not behaving as expected, try using --config-settings editable_mode=compat. Please consult the setuptools documentation for more information. Discussion can be found at https://github.com/pypa/pip/issues/11457
  Running setup.py develop for ezrec-stitch
Successfully installed ezrec-stitch-0.1.0
[0;32m[15:40:20] âœ… Stitch module installed successfully[0m
âœ… Stitch module import successful
[0;32m[15:40:20] âœ… Stitch module import test passed[0m
[0;32m[15:40:20] ğŸ”§ Fixing Cloudflare tunnel configuration...[0m
[0;32m[15:40:26] âœ… Cloudflare tunnel service is running[0m
[0;32m[15:40:28] âœ… DNS route created for api.ezrec.org[0m
[0;32m[15:40:28] âœ… Cloudflare tunnel configuration fixed[0m
[0;32m[15:40:28] ğŸ”§ Fixing API endpoint issues...[0m
[0;32m[15:40:28] âœ… Created backup of api_server.py[0m
[0;32m[15:40:28] âœ… /share endpoint found (create-share-link functionality)[0m
[0;32m[15:40:28] âœ… send-share-email endpoint found[0m
[1;33m[15:40:33] WARNING: âš ï¸ API service restart failed[0m
â— ezrec-api.service - EZREC FastAPI Backend
     Loaded: loaded (/etc/systemd/system/ezrec-api.service; disabled; preset: enabled)
     Active: activating (auto-restart) (Result: exit-code) since Mon 2025-09-01 15:40:29 EDT; 3s ago
    Process: 880160 ExecStart=/opt/ezrec-backend/api/venv/bin/uvicorn api_server:app --host 0.0.0.0 --port 8000 (code=exited, status=1/FAILURE)
   Main PID: 880160 (code=exited, status=1/FAILURE)
        CPU: 1.527s

Sep 01 15:40:29 raspberrypi systemd[1]: ezrec-api.service: Consumed 1.527s CPU time.
