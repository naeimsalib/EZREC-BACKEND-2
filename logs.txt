michomanoly14892@raspberrypi:~/EZREC-BACKEND-2 $ sudo systemctl status dual_recorder.service
â— dual_recorder.service - EZREC Dual Camera Recorder Service
     Loaded: loaded (/etc/systemd/system/dual_recorder.service; enabled; preset: enabled)
     Active: active (running) since Mon 2025-09-15 09:39:14 EDT; 21min ago
   Main PID: 651620 (python3)
      Tasks: 1 (limit: 9572)
        CPU: 471ms
     CGroup: /system.slice/dual_recorder.service
             â””â”€651620 /opt/ezrec-backend/backend/venv/bin/python3 /opt/ezrec-backend/backend/dual_recorder.py

Sep 15 10:00:09 raspberrypi python3[651620]: 2025-09-15 10:00:09,555 - dual_recorder - INFO - âŒ No active booking found
Sep 15 10:00:09 raspberrypi python3[651620]: 2025-09-15 10:00:09,555 - dual_recorder - INFO - ðŸ“Š Status: Active booking: False, Recording: False
Sep 15 10:00:09 raspberrypi python3[651620]: 2025-09-15 10:00:09,555 - dual_recorder - INFO - â¸ï¸ No active booking, no recording
Sep 15 10:00:14 raspberrypi python3[651620]: 2025-09-15 10:00:14,556 - dual_recorder - INFO - ðŸ“‹ Loaded 1 bookings from cache
Sep 15 10:00:14 raspberrypi python3[651620]: 2025-09-15 10:00:14,556 - dual_recorder - INFO - ðŸ” Checking 1 bookings at 2025-09-15 10:00:14.556418 (local time)
Sep 15 10:00:14 raspberrypi python3[651620]: 2025-09-15 10:00:14,556 - dual_recorder - INFO - ðŸ” Booking immediate-test-1757904512: 2025-09-14 22:48:32 - 2025-09-14 22:50:32
Sep 15 10:00:14 raspberrypi python3[651620]: 2025-09-15 10:00:14,556 - dual_recorder - INFO -    Now: 2025-09-15 10:00:14.556418
Sep 15 10:00:14 raspberrypi python3[651620]: 2025-09-15 10:00:14,556 - dual_recorder - INFO - âŒ No active booking found
Sep 15 10:00:14 raspberrypi python3[651620]: 2025-09-15 10:00:14,556 - dual_recorder - INFO - ðŸ“Š Status: Active booking: False, Recording: False
Sep 15 10:00:14 raspberrypi python3[651620]: 2025-09-15 10:00:14,556 - dual_recorder - INFO - â¸ï¸ No active booking, no recording
michomanoly14892@raspberrypi:~/EZREC-BACKEND-2 $ python3 test_dual_cameras.py
ðŸŽ¬ Creating test booking for dual camera recording...
âœ… Test booking created:
   ID: test-1757944826
   Start: 2025-09-15T10:00:26
   End: 2025-09-15T10:02:26
   Duration: 2 minutes

ðŸ“‹ The dual_recorder service should detect this booking and start recording.
ðŸ“ Check /opt/ezrec-backend/recordings/ for the output files.
â±ï¸ Recording will run for 2 minutes.
michomanoly14892@raspberrypi:~/EZREC-BACKEND-2 $ sudo journalctl -u dual_recorder.service -f
Sep 15 10:00:29 raspberrypi python3[651620]: 2025-09-15 10:00:29,557 - dual_recorder - INFO - ðŸ“‹ Loaded 1 bookings from cache
Sep 15 10:00:29 raspberrypi python3[651620]: 2025-09-15 10:00:29,557 - dual_recorder - INFO - ðŸ” Checking 1 bookings at 2025-09-15 10:00:29.557977 (local time)
Sep 15 10:00:29 raspberrypi python3[651620]: 2025-09-15 10:00:29,558 - dual_recorder - INFO - ðŸ” Booking test-1757944826: 2025-09-15 10:00:26 - 2025-09-15 10:02:26
Sep 15 10:00:29 raspberrypi python3[651620]: 2025-09-15 10:00:29,558 - dual_recorder - INFO -    Now: 2025-09-15 10:00:29.557977
Sep 15 10:00:29 raspberrypi python3[651620]: 2025-09-15 10:00:29,558 - dual_recorder - INFO - ðŸŽ¯ Active booking found: test-1757944826
Sep 15 10:00:29 raspberrypi python3[651620]: 2025-09-15 10:00:29,558 - dual_recorder - INFO - ðŸ“Š Status: Active booking: True, Recording: False
Sep 15 10:00:29 raspberrypi python3[651620]: 2025-09-15 10:00:29,558 - dual_recorder - INFO - ðŸš€ Starting new recording session
Sep 15 10:00:29 raspberrypi python3[651620]: 2025-09-15 10:00:29,558 - dual_recorder - INFO - ðŸŽ¬ Starting dual camera recording for booking: test-1757944826
Sep 15 10:00:29 raspberrypi python3[651620]: 2025-09-15 10:00:29,558 - dual_recorder - INFO - ðŸ§¹ Cleaning up zombie rpicam-vid processes...
Sep 15 10:00:29 raspberrypi python3[651620]: 2025-09-15 10:00:29,569 - dual_recorder - INFO - â„¹ï¸ No zombie processes found
Sep 15 10:00:31 raspberrypi python3[651620]: 2025-09-15 10:00:31,570 - dual_recorder - INFO - ðŸ” Testing camera availability...
Sep 15 10:00:31 raspberrypi python3[651620]: 2025-09-15 10:00:31,634 - dual_recorder - INFO - âœ… Cameras available, starting dual recording...
Sep 15 10:00:31 raspberrypi python3[651620]: 2025-09-15 10:00:31,634 - dual_recorder - INFO - ðŸŽ¥ Starting Camera 0...
Sep 15 10:00:34 raspberrypi python3[651620]: 2025-09-15 10:00:34,635 - dual_recorder - INFO - âœ… Camera 0 started successfully
Sep 15 10:00:34 raspberrypi python3[651620]: 2025-09-15 10:00:34,635 - dual_recorder - INFO - ðŸŽ¥ Starting Camera 1...
Sep 15 10:00:37 raspberrypi python3[651620]: 2025-09-15 10:00:37,636 - dual_recorder - ERROR - âŒ Camera 1 failed to start (exit code: 255)
Sep 15 10:00:37 raspberrypi python3[651620]: 2025-09-15 10:00:37,636 - dual_recorder - ERROR - âŒ Camera 1 error: [117:49:31.588553708] [652771]  INFO Camera camera_manager.cpp:326 libcamera v0.5.1+100-e53bdf1f
Sep 15 10:00:37 raspberrypi python3[651620]: [117:49:31.598801816] [652774]  INFO RPI pisp.cpp:720 libpisp version v1.2.1 981977ff21f3 29-04-2025 (14:13:50)
Sep 15 10:00:37 raspberrypi python3[651620]: [117:49:31.599491858] [652774] ERROR V4L2 v4l2_device.cpp:390 'imx477 10-001a': Unable to set controls: Device or resource busy
Sep 15 10:00:37 raspberrypi python3[651620]: [117:49:31.608530365] [652774]  INFO RPI pisp.cpp:1179 Registered camera /base/axi/pcie@1000120000/rp1/i2c@88000/imx477@1a to CFE device /dev/media0 and ISP device /dev/media3 using PiSP variant BCM2712_D0
Sep 15 10:00:37 raspberrypi python3[651620]: [117:49:31.608585161] [652774]  INFO RPI pisp.cpp:720 libpisp version v1.2.1 981977ff21f3 29-04-2025 (14:13:50)
Sep 15 10:00:37 raspberrypi python3[651620]: [117:49:31.616907349] [652774]  INFO RPI pisp.cpp:1179 Registered camera /base/axi/pcie@1000120000/rp1/i2c@80000/imx477@1a to CFE device /dev/media1 and ISP device /dev/media4 using PiSP variant BCM2712_D0
Sep 15 10:00:37 raspberrypi python3[651620]: Made X/EGL preview window
Sep 15 10:00:37 raspberrypi python3[651620]: Made DRM preview window
Sep 15 10:00:37 raspberrypi python3[651620]: Preview window unavailable
Sep 15 10:00:37 raspberrypi python3[651620]: [117:49:31.630080959] [652771]  INFO Camera camera.cpp:1011 Pipeline handler in use by another process
Sep 15 10:00:37 raspberrypi python3[651620]: ERROR: *** failed to acquire camera /base/axi/pcie@1000120000/rp1/i2c@88000/imx477@1a ***
Sep 15 10:00:42 raspberrypi python3[651620]: 2025-09-15 10:00:42,636 - dual_recorder - INFO - ðŸ“‹ Loaded 1 bookings from cache
Sep 15 10:00:42 raspberrypi python3[651620]: 2025-09-15 10:00:42,636 - dual_recorder - INFO - ðŸ” Checking 1 bookings at 2025-09-15 10:00:42.636714 (local time)
Sep 15 10:00:42 raspberrypi python3[651620]: 2025-09-15 10:00:42,636 - dual_recorder - INFO - ðŸ” Booking test-1757944826: 2025-09-15 10:00:26 - 2025-09-15 10:02:26
Sep 15 10:00:42 raspberrypi python3[651620]: 2025-09-15 10:00:42,636 - dual_recorder - INFO -    Now: 2025-09-15 10:00:42.636714
Sep 15 10:00:42 raspberrypi python3[651620]: 2025-09-15 10:00:42,636 - dual_recorder - INFO - ðŸŽ¯ Active booking found: test-1757944826
Sep 15 10:00:42 raspberrypi python3[651620]: 2025-09-15 10:00:42,636 - dual_recorder - INFO - ðŸ“Š Status: Active booking: True, Recording: False
Sep 15 10:00:42 raspberrypi python3[651620]: 2025-09-15 10:00:42,636 - dual_recorder - INFO - ðŸš€ Starting new recording session
Sep 15 10:00:42 raspberrypi python3[651620]: 2025-09-15 10:00:42,636 - dual_recorder - INFO - ðŸŽ¬ Starting dual camera recording for booking: test-1757944826
Sep 15 10:00:42 raspberrypi python3[651620]: 2025-09-15 10:00:42,637 - dual_recorder - INFO - ðŸ§¹ Cleaning up zombie rpicam-vid processes...
Sep 15 10:00:42 raspberrypi python3[651620]: 2025-09-15 10:00:42,653 - dual_recorder - INFO - â„¹ï¸ No zombie processes found
Sep 15 10:00:44 raspberrypi python3[651620]: 2025-09-15 10:00:44,654 - dual_recorder - INFO - ðŸ” Testing camera availability...
Sep 15 10:00:44 raspberrypi python3[651620]: 2025-09-15 10:00:44,719 - dual_recorder - INFO - âœ… Cameras available, starting dual recording...
Sep 15 10:00:44 raspberrypi python3[651620]: 2025-09-15 10:00:44,719 - dual_recorder - INFO - ðŸŽ¥ Starting Camera 0...
Sep 15 10:00:47 raspberrypi python3[651620]: 2025-09-15 10:00:47,720 - dual_recorder - INFO - âœ… Camera 0 started successfully
Sep 15 10:00:47 raspberrypi python3[651620]: 2025-09-15 10:00:47,720 - dual_recorder - INFO - ðŸŽ¥ Starting Camera 1...
Sep 15 10:00:50 raspberrypi python3[651620]: 2025-09-15 10:00:50,720 - dual_recorder - ERROR - âŒ Camera 1 failed to start (exit code: 255)
Sep 15 10:00:50 raspberrypi python3[651620]: 2025-09-15 10:00:50,720 - dual_recorder - ERROR - âŒ Camera 1 error: [117:49:44.674903256] [652817]  INFO Camera camera_manager.cpp:326 libcamera v0.5.1+100-e53bdf1f
Sep 15 10:00:50 raspberrypi python3[651620]: [117:49:44.684677046] [652820]  INFO RPI pisp.cpp:720 libpisp version v1.2.1 981977ff21f3 29-04-2025 (14:13:50)
Sep 15 10:00:50 raspberrypi python3[651620]: [117:49:44.685331235] [652820] ERROR V4L2 v4l2_device.cpp:390 'imx477 10-001a': Unable to set controls: Device or resource busy
Sep 15 10:00:50 raspberrypi python3[651620]: [117:49:44.694102870] [652820]  INFO RPI pisp.cpp:1179 Registered camera /base/axi/pcie@1000120000/rp1/i2c@88000/imx477@1a to CFE device /dev/media0 and ISP device /dev/media3 using PiSP variant BCM2712_D0
Sep 15 10:00:50 raspberrypi python3[651620]: [117:49:44.694156352] [652820]  INFO RPI pisp.cpp:720 libpisp version v1.2.1 981977ff21f3 29-04-2025 (14:13:50)
Sep 15 10:00:50 raspberrypi python3[651620]: [117:49:44.702517798] [652820]  INFO RPI pisp.cpp:1179 Registered camera /base/axi/pcie@1000120000/rp1/i2c@80000/imx477@1a to CFE device /dev/media1 and ISP device /dev/media4 using PiSP variant BCM2712_D0
Sep 15 10:00:50 raspberrypi python3[651620]: Made X/EGL preview window
Sep 15 10:00:50 raspberrypi python3[651620]: Made DRM preview window
Sep 15 10:00:50 raspberrypi python3[651620]: Preview window unavailable
Sep 15 10:00:50 raspberrypi python3[651620]: [117:49:44.717415734] [652817]  INFO Camera camera.cpp:1011 Pipeline handler in use by another process
Sep 15 10:00:50 raspberrypi python3[651620]: ERROR: *** failed to acquire camera /base/axi/pcie@1000120000/rp1/i2c@88000/imx477@1a ***
Sep 15 10:00:55 raspberrypi python3[651620]: 2025-09-15 10:00:55,721 - dual_recorder - INFO - ðŸ“‹ Loaded 1 bookings from cache
Sep 15 10:00:55 raspberrypi python3[651620]: 2025-09-15 10:00:55,721 - dual_recorder - INFO - ðŸ” Checking 1 bookings at 2025-09-15 10:00:55.721309 (local time)
Sep 15 10:00:55 raspberrypi python3[651620]: 2025-09-15 10:00:55,721 - dual_recorder - INFO - ðŸ” Booking test-1757944826: 2025-09-15 10:00:26 - 2025-09-15 10:02:26
Sep 15 10:00:55 raspberrypi python3[651620]: 2025-09-15 10:00:55,721 - dual_recorder - INFO -    Now: 2025-09-15 10:00:55.721309
Sep 15 10:00:55 raspberrypi python3[651620]: 2025-09-15 10:00:55,721 - dual_recorder - INFO - ðŸŽ¯ Active booking found: test-1757944826
Sep 15 10:00:55 raspberrypi python3[651620]: 2025-09-15 10:00:55,721 - dual_recorder - INFO - ðŸ“Š Status: Active booking: True, Recording: False
Sep 15 10:00:55 raspberrypi python3[651620]: 2025-09-15 10:00:55,721 - dual_recorder - INFO - ðŸš€ Starting new recording session
Sep 15 10:00:55 raspberrypi python3[651620]: 2025-09-15 10:00:55,721 - dual_recorder - INFO - ðŸŽ¬ Starting dual camera recording for booking: test-1757944826
Sep 15 10:00:55 raspberrypi python3[651620]: 2025-09-15 10:00:55,721 - dual_recorder - INFO - ðŸ§¹ Cleaning up zombie rpicam-vid processes...
Sep 15 10:00:55 raspberrypi python3[651620]: 2025-09-15 10:00:55,738 - dual_recorder - INFO - â„¹ï¸ No zombie processes found
Sep 15 10:00:57 raspberrypi python3[651620]: 2025-09-15 10:00:57,738 - dual_recorder - INFO - ðŸ” Testing camera availability...
Sep 15 10:00:57 raspberrypi python3[651620]: 2025-09-15 10:00:57,804 - dual_recorder - INFO - âœ… Cameras available, starting dual recording...
Sep 15 10:00:57 raspberrypi python3[651620]: 2025-09-15 10:00:57,804 - dual_recorder - INFO - ðŸŽ¥ Starting Camera 0...
Sep 15 10:01:00 raspberrypi python3[651620]: 2025-09-15 10:01:00,804 - dual_recorder - INFO - âœ… Camera 0 started successfully
Sep 15 10:01:00 raspberrypi python3[651620]: 2025-09-15 10:01:00,804 - dual_recorder - INFO - ðŸŽ¥ Starting Camera 1...
Sep 15 10:01:03 raspberrypi python3[651620]: 2025-09-15 10:01:03,805 - dual_recorder - ERROR - âŒ Camera 1 failed to start (exit code: 255)
Sep 15 10:01:03 raspberrypi python3[651620]: 2025-09-15 10:01:03,805 - dual_recorder - ERROR - âŒ Camera 1 error: [117:49:57.758566037] [652862]  INFO Camera camera_manager.cpp:326 libcamera v0.5.1+100-e53bdf1f
Sep 15 10:01:03 raspberrypi python3[651620]: [117:49:57.768075398] [652865]  INFO RPI pisp.cpp:720 libpisp version v1.2.1 981977ff21f3 29-04-2025 (14:13:50)
Sep 15 10:01:03 raspberrypi python3[651620]: [117:49:57.768732828] [652865] ERROR V4L2 v4l2_device.cpp:390 'imx477 10-001a': Unable to set controls: Device or resource busy
Sep 15 10:01:03 raspberrypi python3[651620]: [117:49:57.778400894] [652865]  INFO RPI pisp.cpp:1179 Registered camera /base/axi/pcie@1000120000/rp1/i2c@88000/imx477@1a to CFE device /dev/media0 and ISP device /dev/media3 using PiSP variant BCM2712_D0
Sep 15 10:01:03 raspberrypi python3[651620]: [117:49:57.778459136] [652865]  INFO RPI pisp.cpp:720 libpisp version v1.2.1 981977ff21f3 29-04-2025 (14:13:50)
Sep 15 10:01:03 raspberrypi python3[651620]: [117:49:57.786997064] [652865]  INFO RPI pisp.cpp:1179 Registered camera /base/axi/pcie@1000120000/rp1/i2c@80000/imx477@1a to CFE device /dev/media1 and ISP device /dev/media4 using PiSP variant BCM2712_D0
Sep 15 10:01:03 raspberrypi python3[651620]: Made X/EGL preview window
Sep 15 10:01:03 raspberrypi python3[651620]: Made DRM preview window
Sep 15 10:01:03 raspberrypi python3[651620]: Preview window unavailable
Sep 15 10:01:03 raspberrypi python3[651620]: [117:49:57.800955882] [652862]  INFO Camera camera.cpp:1011 Pipeline handler in use by another process
Sep 15 10:01:03 raspberrypi python3[651620]: ERROR: *** failed to acquire camera /base/axi/pcie@1000120000/rp1/i2c@88000/imx477@1a ***
Sep 15 10:01:08 raspberrypi python3[651620]: 2025-09-15 10:01:08,806 - dual_recorder - INFO - ðŸ“‹ Loaded 1 bookings from cache
Sep 15 10:01:08 raspberrypi python3[651620]: 2025-09-15 10:01:08,806 - dual_recorder - INFO - ðŸ” Checking 1 bookings at 2025-09-15 10:01:08.806382 (local time)
Sep 15 10:01:08 raspberrypi python3[651620]: 2025-09-15 10:01:08,806 - dual_recorder - INFO - ðŸ” Booking test-1757944826: 2025-09-15 10:00:26 - 2025-09-15 10:02:26
Sep 15 10:01:08 raspberrypi python3[651620]: 2025-09-15 10:01:08,806 - dual_recorder - INFO -    Now: 2025-09-15 10:01:08.806382
Sep 15 10:01:08 raspberrypi python3[651620]: 2025-09-15 10:01:08,806 - dual_recorder - INFO - ðŸŽ¯ Active booking found: test-1757944826
Sep 15 10:01:08 raspberrypi python3[651620]: 2025-09-15 10:01:08,806 - dual_recorder - INFO - ðŸ“Š Status: Active booking: True, Recording: False
Sep 15 10:01:08 raspberrypi python3[651620]: 2025-09-15 10:01:08,806 - dual_recorder - INFO - ðŸš€ Starting new recording session
Sep 15 10:01:08 raspberrypi python3[651620]: 2025-09-15 10:01:08,806 - dual_recorder - INFO - ðŸŽ¬ Starting dual camera recording for booking: test-1757944826
Sep 15 10:01:08 raspberrypi python3[651620]: 2025-09-15 10:01:08,806 - dual_recorder - INFO - ðŸ§¹ Cleaning up zombie rpicam-vid processes...
Sep 15 10:01:08 raspberrypi python3[651620]: 2025-09-15 10:01:08,823 - dual_recorder - INFO - â„¹ï¸ No zombie processes found
Sep 15 10:01:10 raspberrypi python3[651620]: 2025-09-15 10:01:10,824 - dual_recorder - INFO - ðŸ” Testing camera availability...
Sep 15 10:01:10 raspberrypi python3[651620]: 2025-09-15 10:01:10,886 - dual_recorder - INFO - âœ… Cameras available, starting dual recording...
Sep 15 10:01:10 raspberrypi python3[651620]: 2025-09-15 10:01:10,886 - dual_recorder - INFO - ðŸŽ¥ Starting Camera 0...
Sep 15 10:01:13 raspberrypi python3[651620]: 2025-09-15 10:01:13,886 - dual_recorder - INFO - âœ… Camera 0 started successfully
Sep 15 10:01:13 raspberrypi python3[651620]: 2025-09-15 10:01:13,886 - dual_recorder - INFO - ðŸŽ¥ Starting Camera 1...
Sep 15 10:01:16 raspberrypi python3[651620]: 2025-09-15 10:01:16,887 - dual_recorder - ERROR - âŒ Camera 1 failed to start (exit code: 255)
Sep 15 10:01:16 raspberrypi python3[651620]: 2025-09-15 10:01:16,887 - dual_recorder - ERROR - âŒ Camera 1 error: [117:50:10.840293571] [652907]  INFO Camera camera_manager.cpp:326 libcamera v0.5.1+100-e53bdf1f
Sep 15 10:01:16 raspberrypi python3[651620]: [117:50:10.849907025] [652910]  INFO RPI pisp.cpp:720 libpisp version v1.2.1 981977ff21f3 29-04-2025 (14:13:50)
Sep 15 10:01:16 raspberrypi python3[651620]: [117:50:10.850675716] [652910] ERROR V4L2 v4l2_device.cpp:390 'imx477 10-001a': Unable to set controls: Device or resource busy
Sep 15 10:01:16 raspberrypi python3[651620]: [117:50:10.860772525] [652910]  INFO RPI pisp.cpp:1179 Registered camera /base/axi/pcie@1000120000/rp1/i2c@88000/imx477@1a to CFE device /dev/media0 and ISP device /dev/media3 using PiSP variant BCM2712_D0
Sep 15 10:01:16 raspberrypi python3[651620]: [117:50:10.860829859] [652910]  INFO RPI pisp.cpp:720 libpisp version v1.2.1 981977ff21f3 29-04-2025 (14:13:50)
Sep 15 10:01:16 raspberrypi python3[651620]: [117:50:10.869366583] [652910]  INFO RPI pisp.cpp:1179 Registered camera /base/axi/pcie@1000120000/rp1/i2c@80000/imx477@1a to CFE device /dev/media1 and ISP device /dev/media4 using PiSP variant BCM2712_D0
Sep 15 10:01:16 raspberrypi python3[651620]: Made X/EGL preview window
Sep 15 10:01:16 raspberrypi python3[651620]: Made DRM preview window
Sep 15 10:01:16 raspberrypi python3[651620]: Preview window unavailable
Sep 15 10:01:16 raspberrypi python3[651620]: [117:50:10.882726100] [652907]  INFO Camera camera.cpp:1011 Pipeline handler in use by another process
Sep 15 10:01:16 raspberrypi python3[651620]: ERROR: *** failed to acquire camera /base/axi/pcie@1000120000/rp1/i2c@88000/imx477@1a ***
Sep 15 10:01:21 raspberrypi python3[651620]: 2025-09-15 10:01:21,888 - dual_recorder - INFO - ðŸ“‹ Loaded 1 bookings from cache
Sep 15 10:01:21 raspberrypi python3[651620]: 2025-09-15 10:01:21,888 - dual_recorder - INFO - ðŸ” Checking 1 bookings at 2025-09-15 10:01:21.888130 (local time)
Sep 15 10:01:21 raspberrypi python3[651620]: 2025-09-15 10:01:21,888 - dual_recorder - INFO - ðŸ” Booking test-1757944826: 2025-09-15 10:00:26 - 2025-09-15 10:02:26
Sep 15 10:01:21 raspberrypi python3[651620]: 2025-09-15 10:01:21,888 - dual_recorder - INFO -    Now: 2025-09-15 10:01:21.888130
Sep 15 10:01:21 raspberrypi python3[651620]: 2025-09-15 10:01:21,888 - dual_recorder - INFO - ðŸŽ¯ Active booking found: test-1757944826
Sep 15 10:01:21 raspberrypi python3[651620]: 2025-09-15 10:01:21,888 - dual_recorder - INFO - ðŸ“Š Status: Active booking: True, Recording: False
Sep 15 10:01:21 raspberrypi python3[651620]: 2025-09-15 10:01:21,888 - dual_recorder - INFO - ðŸš€ Starting new recording session
Sep 15 10:01:21 raspberrypi python3[651620]: 2025-09-15 10:01:21,888 - dual_recorder - INFO - ðŸŽ¬ Starting dual camera recording for booking: test-1757944826
Sep 15 10:01:21 raspberrypi python3[651620]: 2025-09-15 10:01:21,888 - dual_recorder - INFO - ðŸ§¹ Cleaning up zombie rpicam-vid processes...
Sep 15 10:01:21 raspberrypi python3[651620]: 2025-09-15 10:01:21,905 - dual_recorder - INFO - â„¹ï¸ No zombie processes found
Sep 15 10:01:23 raspberrypi python3[651620]: 2025-09-15 10:01:23,905 - dual_recorder - INFO - ðŸ” Testing camera availability...
Sep 15 10:01:23 raspberrypi python3[651620]: 2025-09-15 10:01:23,950 - dual_recorder - INFO - âœ… Cameras available, starting dual recording...
Sep 15 10:01:23 raspberrypi python3[651620]: 2025-09-15 10:01:23,950 - dual_recorder - INFO - ðŸŽ¥ Starting Camera 0...
Sep 15 10:01:26 raspberrypi python3[651620]: 2025-09-15 10:01:26,950 - dual_recorder - INFO - âœ… Camera 0 started successfully
Sep 15 10:01:26 raspberrypi python3[651620]: 2025-09-15 10:01:26,950 - dual_recorder - INFO - ðŸŽ¥ Starting Camera 1...
Sep 15 10:01:29 raspberrypi python3[651620]: 2025-09-15 10:01:29,951 - dual_recorder - ERROR - âŒ Camera 1 failed to start (exit code: 255)
Sep 15 10:01:29 raspberrypi python3[651620]: 2025-09-15 10:01:29,951 - dual_recorder - ERROR - âŒ Camera 1 error: [117:50:23.904285640] [652954]  INFO Camera camera_manager.cpp:326 libcamera v0.5.1+100-e53bdf1f
Sep 15 10:01:29 raspberrypi python3[651620]: [117:50:23.914700747] [652957]  INFO RPI pisp.cpp:720 libpisp version v1.2.1 981977ff21f3 29-04-2025 (14:13:50)
Sep 15 10:01:29 raspberrypi python3[651620]: [117:50:23.915373029] [652957] ERROR V4L2 v4l2_device.cpp:390 'imx477 10-001a': Unable to set controls: Device or resource busy
Sep 15 10:01:29 raspberrypi python3[651620]: [117:50:23.924322886] [652957]  INFO RPI pisp.cpp:1179 Registered camera /base/axi/pcie@1000120000/rp1/i2c@88000/imx477@1a to CFE device /dev/media0 and ISP device /dev/media3 using PiSP variant BCM2712_D0
Sep 15 10:01:29 raspberrypi python3[651620]: [117:50:23.924382831] [652957]  INFO RPI pisp.cpp:720 libpisp version v1.2.1 981977ff21f3 29-04-2025 (14:13:50)
Sep 15 10:01:29 raspberrypi python3[651620]: [117:50:23.932839851] [652957]  INFO RPI pisp.cpp:1179 Registered camera /base/axi/pcie@1000120000/rp1/i2c@80000/imx477@1a to CFE device /dev/media1 and ISP device /dev/media4 using PiSP variant BCM2712_D0
Sep 15 10:01:29 raspberrypi python3[651620]: Made X/EGL preview window
Sep 15 10:01:29 raspberrypi python3[651620]: Made DRM preview window
Sep 15 10:01:29 raspberrypi python3[651620]: Preview window unavailable
Sep 15 10:01:29 raspberrypi python3[651620]: [117:50:23.946509351] [652954]  INFO Camera camera.cpp:1011 Pipeline handler in use by another process
Sep 15 10:01:29 raspberrypi python3[651620]: ERROR: *** failed to acquire camera /base/axi/pcie@1000120000/rp1/i2c@88000/imx477@1a ***
Sep 15 10:01:34 raspberrypi python3[651620]: 2025-09-15 10:01:34,951 - dual_recorder - INFO - ðŸ“‹ Loaded 1 bookings from cache
Sep 15 10:01:34 raspberrypi python3[651620]: 2025-09-15 10:01:34,952 - dual_recorder - INFO - ðŸ” Checking 1 bookings at 2025-09-15 10:01:34.952095 (local time)
Sep 15 10:01:34 raspberrypi python3[651620]: 2025-09-15 10:01:34,952 - dual_recorder - INFO - ðŸ” Booking test-1757944826: 2025-09-15 10:00:26 - 2025-09-15 10:02:26
Sep 15 10:01:34 raspberrypi python3[651620]: 2025-09-15 10:01:34,952 - dual_recorder - INFO -    Now: 2025-09-15 10:01:34.952095
Sep 15 10:01:34 raspberrypi python3[651620]: 2025-09-15 10:01:34,952 - dual_recorder - INFO - ðŸŽ¯ Active booking found: test-1757944826
Sep 15 10:01:34 raspberrypi python3[651620]: 2025-09-15 10:01:34,952 - dual_recorder - INFO - ðŸ“Š Status: Active booking: True, Recording: False
Sep 15 10:01:34 raspberrypi python3[651620]: 2025-09-15 10:01:34,952 - dual_recorder - INFO - ðŸš€ Starting new recording session
Sep 15 10:01:34 raspberrypi python3[651620]: 2025-09-15 10:01:34,952 - dual_recorder - INFO - ðŸŽ¬ Starting dual camera recording for booking: test-1757944826
Sep 15 10:01:34 raspberrypi python3[651620]: 2025-09-15 10:01:34,952 - dual_recorder - INFO - ðŸ§¹ Cleaning up zombie rpicam-vid processes...
Sep 15 10:01:34 raspberrypi python3[651620]: 2025-09-15 10:01:34,969 - dual_recorder - INFO - â„¹ï¸ No zombie processes found
Sep 15 10:01:36 raspberrypi python3[651620]: 2025-09-15 10:01:36,969 - dual_recorder - INFO - ðŸ” Testing camera availability...
Sep 15 10:01:37 raspberrypi python3[651620]: 2025-09-15 10:01:37,015 - dual_recorder - INFO - âœ… Cameras available, starting dual recording...
Sep 15 10:01:37 raspberrypi python3[651620]: 2025-09-15 10:01:37,015 - dual_recorder - INFO - ðŸŽ¥ Starting Camera 0...
Sep 15 10:01:40 raspberrypi python3[651620]: 2025-09-15 10:01:40,016 - dual_recorder - INFO - âœ… Camera 0 started successfully
Sep 15 10:01:40 raspberrypi python3[651620]: 2025-09-15 10:01:40,016 - dual_recorder - INFO - ðŸŽ¥ Starting Camera 1...
Sep 15 10:01:43 raspberrypi python3[651620]: 2025-09-15 10:01:43,016 - dual_recorder - ERROR - âŒ Camera 1 failed to start (exit code: 255)
Sep 15 10:01:43 raspberrypi python3[651620]: 2025-09-15 10:01:43,016 - dual_recorder - ERROR - âŒ Camera 1 error: [117:50:36.972559279] [653001]  INFO Camera camera_manager.cpp:326 libcamera v0.5.1+100-e53bdf1f
Sep 15 10:01:43 raspberrypi python3[651620]: [117:50:36.982150177] [653004]  INFO RPI pisp.cpp:720 libpisp version v1.2.1 981977ff21f3 29-04-2025 (14:13:50)
Sep 15 10:01:43 raspberrypi python3[651620]: [117:50:36.982805718] [653004] ERROR V4L2 v4l2_device.cpp:390 'imx477 10-001a': Unable to set controls: Device or resource busy
Sep 15 10:01:43 raspberrypi python3[651620]: [117:50:36.991557036] [653004]  INFO RPI pisp.cpp:1179 Registered camera /base/axi/pcie@1000120000/rp1/i2c@88000/imx477@1a to CFE device /dev/media0 and ISP device /dev/media3 using PiSP variant BCM2712_D0
Sep 15 10:01:43 raspberrypi python3[651620]: [117:50:36.991611166] [653004]  INFO RPI pisp.cpp:720 libpisp version v1.2.1 981977ff21f3 29-04-2025 (14:13:50)
Sep 15 10:01:43 raspberrypi python3[651620]: [117:50:36.999904907] [653004]  INFO RPI pisp.cpp:1179 Registered camera /base/axi/pcie@1000120000/rp1/i2c@80000/imx477@1a to CFE device /dev/media1 and ISP device /dev/media4 using PiSP variant BCM2712_D0
Sep 15 10:01:43 raspberrypi python3[651620]: Made X/EGL preview window
Sep 15 10:01:43 raspberrypi python3[651620]: Made DRM preview window
Sep 15 10:01:43 raspberrypi python3[651620]: Preview window unavailable
Sep 15 10:01:43 raspberrypi python3[651620]: [117:50:37.015026138] [653001]  INFO Camera camera.cpp:1011 Pipeline handler in use by another process
Sep 15 10:01:43 raspberrypi python3[651620]: ERROR: *** failed to acquire camera /base/axi/pcie@1000120000/rp1/i2c@88000/imx477@1a ***
Sep 15 10:01:48 raspberrypi python3[651620]: 2025-09-15 10:01:48,017 - dual_recorder - INFO - ðŸ“‹ Loaded 1 bookings from cache
Sep 15 10:01:48 raspberrypi python3[651620]: 2025-09-15 10:01:48,017 - dual_recorder - INFO - ðŸ” Checking 1 bookings at 2025-09-15 10:01:48.017323 (local time)
Sep 15 10:01:48 raspberrypi python3[651620]: 2025-09-15 10:01:48,017 - dual_recorder - INFO - ðŸ” Booking test-1757944826: 2025-09-15 10:00:26 - 2025-09-15 10:02:26
Sep 15 10:01:48 raspberrypi python3[651620]: 2025-09-15 10:01:48,017 - dual_recorder - INFO -    Now: 2025-09-15 10:01:48.017323
Sep 15 10:01:48 raspberrypi python3[651620]: 2025-09-15 10:01:48,017 - dual_recorder - INFO - ðŸŽ¯ Active booking found: test-1757944826
Sep 15 10:01:48 raspberrypi python3[651620]: 2025-09-15 10:01:48,017 - dual_recorder - INFO - ðŸ“Š Status: Active booking: True, Recording: False
Sep 15 10:01:48 raspberrypi python3[651620]: 2025-09-15 10:01:48,017 - dual_recorder - INFO - ðŸš€ Starting new recording session
Sep 15 10:01:48 raspberrypi python3[651620]: 2025-09-15 10:01:48,017 - dual_recorder - INFO - ðŸŽ¬ Starting dual camera recording for booking: test-1757944826
Sep 15 10:01:48 raspberrypi python3[651620]: 2025-09-15 10:01:48,017 - dual_recorder - INFO - ðŸ§¹ Cleaning up zombie rpicam-vid processes...
Sep 15 10:01:48 raspberrypi python3[651620]: 2025-09-15 10:01:48,034 - dual_recorder - INFO - â„¹ï¸ No zombie processes found
Sep 15 10:01:50 raspberrypi python3[651620]: 2025-09-15 10:01:50,034 - dual_recorder - INFO - ðŸ” Testing camera availability...
Sep 15 10:01:50 raspberrypi python3[651620]: 2025-09-15 10:01:50,082 - dual_recorder - INFO - âœ… Cameras available, starting dual recording...
Sep 15 10:01:50 raspberrypi python3[651620]: 2025-09-15 10:01:50,082 - dual_recorder - INFO - ðŸŽ¥ Starting Camera 0...
Sep 15 10:01:53 raspberrypi python3[651620]: 2025-09-15 10:01:53,082 - dual_recorder - INFO - âœ… Camera 0 started successfully
Sep 15 10:01:53 raspberrypi python3[651620]: 2025-09-15 10:01:53,082 - dual_recorder - INFO - ðŸŽ¥ Starting Camera 1...
Sep 15 10:01:56 raspberrypi python3[651620]: 2025-09-15 10:01:56,083 - dual_recorder - ERROR - âŒ Camera 1 failed to start (exit code: 255)
Sep 15 10:01:56 raspberrypi python3[651620]: 2025-09-15 10:01:56,083 - dual_recorder - ERROR - âŒ Camera 1 error: [117:50:50.036266315] [653047]  INFO Camera camera_manager.cpp:326 libcamera v0.5.1+100-e53bdf1f
Sep 15 10:01:56 raspberrypi python3[651620]: [117:50:50.045660748] [653050]  INFO RPI pisp.cpp:720 libpisp version v1.2.1 981977ff21f3 29-04-2025 (14:13:50)
Sep 15 10:01:56 raspberrypi python3[651620]: [117:50:50.046309456] [653050] ERROR V4L2 v4l2_device.cpp:390 'imx477 10-001a': Unable to set controls: Device or resource busy
Sep 15 10:01:56 raspberrypi python3[651620]: [117:50:50.056741618] [653050]  INFO RPI pisp.cpp:1179 Registered camera /base/axi/pcie@1000120000/rp1/i2c@88000/imx477@1a to CFE device /dev/media0 and ISP device /dev/media3 using PiSP variant BCM2712_D0
Sep 15 10:01:56 raspberrypi python3[651620]: [117:50:50.056800155] [653050]  INFO RPI pisp.cpp:720 libpisp version v1.2.1 981977ff21f3 29-04-2025 (14:13:50)
Sep 15 10:01:56 raspberrypi python3[651620]: [117:50:50.065602788] [653050]  INFO RPI pisp.cpp:1179 Registered camera /base/axi/pcie@1000120000/rp1/i2c@80000/imx477@1a to CFE device /dev/media1 and ISP device /dev/media4 using PiSP variant BCM2712_D0
Sep 15 10:01:56 raspberrypi python3[651620]: Made X/EGL preview window
Sep 15 10:01:56 raspberrypi python3[651620]: Made DRM preview window
Sep 15 10:01:56 raspberrypi python3[651620]: Preview window unavailable
Sep 15 10:01:56 raspberrypi python3[651620]: [117:50:50.079187063] [653047]  INFO Camera camera.cpp:1011 Pipeline handler in use by another process
Sep 15 10:01:56 raspberrypi python3[651620]: ERROR: *** failed to acquire camera /base/axi/pcie@1000120000/rp1/i2c@88000/imx477@1a ***
^C
michomanoly14892@raspberrypi:~/EZREC-BACKEND-2 $ # Look for the recording files
ls -la /opt/ezrec-backend/recordings/*/session_*/

# Or check the most recent recordings
find /opt/ezrec-backend/recordings -name "*.mp4" -newer /tmp/test_start 2>/dev/null
/opt/ezrec-backend/recordings/2025-09-14/session_immediate-test-1757904512/:
total 8
drwxr-xr-x  2 michomanoly14892 video 4096 Sep 14 22:48 .
drwxr-xr-x 10 michomanoly14892 video 4096 Sep 14 22:48 ..

'/opt/ezrec-backend/recordings/2025-09-14/session_system-test-$(date +%s)/':
total 76812
drwxr-xr-x  2 michomanoly14892 video     4096 Sep 14 21:54 .
drwxr-xr-x 10 michomanoly14892 video     4096 Sep 14 22:48 ..
-rw-r--r--  1 michomanoly14892 video 78643248 Sep 14 21:59 camera_0_20250914_215402.mp4

'/opt/ezrec-backend/recordings/2025-09-14/session_test-$(date +%s)/':
total 72972
drwxr-xr-x  2 michomanoly14892 video     4096 Sep 14 22:05 .
drwxr-xr-x 10 michomanoly14892 video     4096 Sep 14 22:48 ..
-rw-r--r--  1 michomanoly14892 video 74711088 Sep 14 22:08 camera_1_20250914_220501.mp4

/opt/ezrec-backend/recordings/2025-09-14/session_test-1757903677/:
total 53260
drwxr-xr-x  2 michomanoly14892 video     4096 Sep 14 22:35 .
drwxr-xr-x 10 michomanoly14892 video     4096 Sep 14 22:48 ..
-rw-r--r--  1 michomanoly14892 video 54526000 Sep 14 22:40 camera_1_20250914_223537.mp4

/opt/ezrec-backend/recordings/2025-09-14/session_test-booking-1757890887/:
total 8
drwxr-xr-x  2 michomanoly14892 video 4096 Sep 14 19:04 .
drwxr-xr-x 10 michomanoly14892 video 4096 Sep 14 22:48 ..

/opt/ezrec-backend/recordings/2025-09-14/session_test-booking-1757891508/:
total 8
drwxr-xr-x  2 michomanoly14892 video 4096 Sep 14 19:14 .
drwxr-xr-x 10 michomanoly14892 video 4096 Sep 14 22:48 ..

/opt/ezrec-backend/recordings/2025-09-14/session_test-booking-now/:
total 38156
drwxr-xr-x  2 michomanoly14892 video     4096 Sep 14 21:46 .
drwxr-xr-x 10 michomanoly14892 video     4096 Sep 14 22:48 ..
-rw-r--r--  1 michomanoly14892 video 39059504 Sep 14 21:48 camera_0_20250914_214602.mp4

/opt/ezrec-backend/recordings/2025-09-14/session_test-recording-1757893672/:
total 8
drwxr-xr-x  2 michomanoly14892 video 4096 Sep 14 19:47 .
drwxr-xr-x 10 michomanoly14892 video 4096 Sep 14 22:48 ..

/opt/ezrec-backend/recordings/2025-09-15/session_test-1757944826/:
total 20008
drwxr-xr-x 2 michomanoly14892 video    4096 Sep 15 10:02 .
drwxr-xr-x 3 michomanoly14892 video    4096 Sep 15 10:00 ..
-rw-r--r-- 1 michomanoly14892 video 2883632 Sep 15 10:00 camera_0_20250915_100031.mp4
-rw-r--r-- 1 michomanoly14892 video 2621488 Sep 15 10:00 camera_0_20250915_100044.mp4
-rw-r--r-- 1 michomanoly14892 video 2883632 Sep 15 10:01 camera_0_20250915_100057.mp4
-rw-r--r-- 1 michomanoly14892 video 2883632 Sep 15 10:01 camera_0_20250915_100110.mp4
-rw-r--r-- 1 michomanoly14892 video 2883632 Sep 15 10:01 camera_0_20250915_100123.mp4
-rw-r--r-- 1 michomanoly14892 video 2883632 Sep 15 10:01 camera_0_20250915_100136.mp4
-rw-r--r-- 1 michomanoly14892 video 2883632 Sep 15 10:01 camera_0_20250915_100150.mp4
-rw-r--r-- 1 michomanoly14892 video  524336 Sep 15 10:02 camera_0_20250915_100203.mp4
/opt/ezrec-backend/recordings/2025-09-15/session_test-1757944826/camera_0_20250915_100203.mp4
/opt/ezrec-backend/recordings/2025-09-15/session_test-1757944826/camera_0_20250915_100136.mp4
/opt/ezrec-backend/recordings/2025-09-15/session_test-1757944826/camera_0_20250915_100123.mp4
/opt/ezrec-backend/recordings/2025-09-15/session_test-1757944826/camera_0_20250915_100044.mp4
/opt/ezrec-backend/recordings/2025-09-15/session_test-1757944826/camera_0_20250915_100031.mp4
/opt/ezrec-backend/recordings/2025-09-15/session_test-1757944826/camera_0_20250915_100110.mp4
/opt/ezrec-backend/recordings/2025-09-15/session_test-1757944826/camera_0_20250915_100057.mp4
/opt/ezrec-backend/recordings/2025-09-15/session_test-1757944826/camera_0_20250915_100150.mp4
michomanoly14892@raspberrypi:~/EZREC-BACKEND-2 $ 