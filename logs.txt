michomanoly14892@raspberrypi:~/EZREC-BACKEND-2 $ cat logs.txt
# EZREC System Logs - Fresh Start
# This file contains system check output and deployment logs
# Generated automatically by the deployment script

# =============================================================================
# SYSTEM CHECK OUTPUT
# =============================================================================
[16:08:40] Starting EZREC deployment as user: michomanoly14892
[16:08:40] STEP: 1. Applying comprehensive system fixes
[16:08:40] 🔧 Fixing port conflicts with comprehensive cleanup...
[16:08:40] 🛑 Stopping all EZREC services...
Terminated
[16:08:40] 🧹 Comprehensive port cleanup...
[16:08:40] 🔍 Found processes on port 8000, killing them...
[16:08:42] 🧹 Killing processes by name...
[16:08:45] ✅ Port 8000 is now free
[16:08:45] ✅ Port 9000 is now free
[16:08:45] ✅ Comprehensive port conflict resolution completed
[16:08:45] 🔧 Installing psutil in all virtual environments...
[16:08:45] 📦 Installing psutil in backend virtual environment...
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: psutil in /home/michomanoly14892/.local/lib/python3.11/site-packages (5.9.5)
WARNING: Error parsing dependencies of send2trash: Expected matching RIGHT_PARENTHESIS for LEFT_PARENTHESIS, after version specifier
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
[16:08:47] ✅ psutil installed successfully in backend venv
[16:08:47] 📦 Installing psutil in API virtual environment...
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: psutil in /home/michomanoly14892/.local/lib/python3.11/site-packages (5.9.5)
WARNING: Error parsing dependencies of send2trash: Expected matching RIGHT_PARENTHESIS for LEFT_PARENTHESIS, after version specifier
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
[16:08:49] ✅ psutil installed successfully in API venv
[16:08:49] 🧪 Testing psutil imports...
✅ psutil imported successfully in backend
[16:08:49] ✅ psutil import test passed in backend
✅ psutil imported successfully in API
[16:08:49] ✅ psutil import test passed in API
[16:08:49] ✅ psutil installed and tested successfully in all environments
[16:08:49] 🔧 Ensuring all services are properly enabled...
[16:08:49] 🔧 Enabling dual_recorder.service for auto-start...
[16:08:50] ✅ dual_recorder.service enabled successfully
[16:08:50] 🔧 Enabling video_worker.service for auto-start...
[16:08:50] ✅ video_worker.service enabled successfully
[16:08:50] 🔧 Enabling ezrec-api.service for auto-start...
[16:08:50] ✅ ezrec-api.service enabled successfully
[16:08:50] 🔧 Enabling system_status.service for auto-start...
[16:08:50] ✅ system_status.service enabled successfully
[16:08:50] 🔧 Enabling system_status.timer for auto-start...
[16:08:50] ✅ system_status.timer enabled successfully
[16:08:50] 🔍 Verifying services are enabled...
[16:08:50] ✅ dual_recorder.service is enabled
[16:08:50] ✅ video_worker.service is enabled
[16:08:50] ✅ ezrec-api.service is enabled
[16:08:50] ✅ system_status.service is enabled
[16:08:50] ✅ All services properly enabled for auto-start
[16:08:50] STEP: 2. Starting all services safely
[16:08:50] 🔧 Starting all services safely with port conflict prevention...
[16:08:50] 🔧 Fixing port conflicts with comprehensive cleanup...
[16:08:50] 🛑 Stopping all EZREC services...
[16:08:50] 🧹 Comprehensive port cleanup...
[16:08:50] 🔍 Found processes on port 8000, killing them...
[16:08:52] 🧹 Killing processes by name...
[16:08:56] ✅ Port 8000 is now free
[16:08:56] ✅ Port 9000 is now free
[16:08:56] ✅ Comprehensive port conflict resolution completed
[16:08:56] 🚀 Starting ezrec-api.service...
[16:08:56] 🔧 Special handling for API service...
[16:08:56] ✅ ezrec-api.service started successfully
[16:08:56] ⏳ Waiting for API service to be ready...
[16:09:06] ✅ API service is responding
[16:09:09] 🚀 Starting dual_recorder.service...
[16:09:09] ✅ dual_recorder.service started successfully
[16:09:12] 🚀 Starting video_worker.service...
[16:09:12] ✅ video_worker.service started successfully
[16:09:15] 🚀 Starting system_status.service...
[16:09:17] ✅ system_status.service started successfully
[16:09:20] 🚀 Starting system_status.timer...
[16:09:20] ✅ system_status.timer started successfully
[16:09:20] ✅ All services started safely
[16:09:20] STEP: 3. Verifying system completely
[16:09:20] 🔍 Performing comprehensive system verification...
[16:09:20] 🧪 Checking all services are running...
[16:09:20] ✅ dual_recorder.service is running
[16:09:20] ✅ video_worker.service is running
[16:09:20] ✅ ezrec-api.service is running
[16:09:21] ✅ system_status.service is running
[16:09:21] 🧪 Testing API endpoints...
[16:09:21] ✅ API /test-alive endpoint is responding
[16:09:21] ✅ API /status endpoint is responding
[16:09:21] 🧪 Testing Python imports...
✅ Backend imports working
[16:09:21] ✅ Backend Python imports are working
✅ API imports working
[16:09:21] ✅ API Python imports are working
[16:09:21] 🧪 Testing Cloudflare tunnel...
[16:09:21] ✅ Cloudflare tunnel is running
[16:09:21] 🎉 All system verification checks passed!
[16:09:21] STEP: 4. Final system status

=== FINAL SYSTEM STATUS ===
✅ dual_recorder.service: RUNNING
✅ video_worker.service: RUNNING
✅ ezrec-api.service: RUNNING
✅ system_status.service: RUNNING
✅ cloudflared.service: RUNNING
✅ External API: ACCESSIBLE
[16:09:22] 🎉 Deployment completed successfully!
[16:09:22] ✅ All services are running and responding correctly
[16:09:22] ✅ External API is accessible via Cloudflare tunnel
[16:09:22] ✅ System is ready for frontend testing
michomanoly14892@raspberrypi:~/EZREC-BACKEND-2 $ 